import{r as u,o as N,z as S,x as P,b as a,f as j,d as e,g,t as r,w as _,m,h as C,F as E,e as A,k as i}from"./_plugin-vue_export-helper-Bve7U4QZ.js";const B={class:"min-h-screen bg-gray-50"},F={key:0,class:"min-h-screen flex items-center justify-center"},M={key:1,class:"min-h-screen flex items-center justify-center"},V={class:"text-center max-w-md mx-auto px-4"},z={class:"text-gray-600 mb-6"},I={key:2},O={class:"relative overflow-hidden"},L={class:"absolute inset-0"},T=["src","alt"],W={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-32"},H={class:"mb-8"},U={class:"flex items-center space-x-2 text-sm"},D={class:"text-white font-medium"},R={class:"text-center max-w-4xl mx-auto"},J={key:0,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-green-500/20 text-green-100 border border-green-400/30 mb-6"},Q={class:"text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight"},$={class:"text-xl text-white mb-8 leading-relaxed max-w-3xl mx-auto"},q={class:"flex flex-wrap justify-center gap-6 mb-8"},G={class:"text-center"},K={class:"text-2xl font-bold text-white"},X={class:"text-center"},Y={class:"text-2xl font-bold text-white"},Z={class:"py-12 sm:py-16"},ee={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},te={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8"},se={class:"lg:col-span-2 space-y-6 sm:space-y-8"},oe={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 md:p-8"},re={class:"prose max-w-none"},ae={class:"text-gray-600 leading-relaxed"},ie={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8"},ne={key:0,class:"flex flex-wrap gap-3"},le={key:1,class:"p-6 bg-gray-50 border border-gray-200 rounded-xl text-center text-gray-600"},de={class:"space-y-4 sm:space-y-6"},ce={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6"},ue={class:"space-y-4"},me={class:"flex items-center justify-between"},pe={class:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full"},xe={class:"flex items-center justify-between"},ve={class:"text-gray-900 font-medium"},ge={class:"flex items-center justify-between"},_e={class:"text-gray-900 font-medium"},be={__name:"EnvironmentalProjectDetail",setup(fe){const p=P(),x=u(!0),c=u(null),s=u(null),v=u("/images/ourWork/ourworkhero.avif");N(f),S(()=>p.params.idOrSlug,()=>{p.params.idOrSlug&&(f(),window.scrollTo({top:0,behavior:"smooth"}))});async function f(){x.value=!0,c.value=null;try{const o=p.params.idOrSlug;let t=await fetch(`/api/environmental-projects/${o}`);if(t.ok){const d=await t.json(),w=d?.data||d?.project||d;if(!w)throw new Error("Invalid project data received");s.value=h(w),v.value=s.value.cover_image||"/images/ourWork/ourworkhero.avif";return}const l=await fetch("/api/environmental-projects");if(!l.ok)throw new Error("Failed to load projects");const n=await l.json(),b=(Array.isArray(n?.data)?n.data:Array.isArray(n)?n:[]).find(d=>d.slug===o||String(d.id)===String(o));if(!b)throw new Error("Project not found");s.value=h(b),v.value=s.value.cover_image||"/images/ourWork/ourworkhero.avif"}catch(o){c.value=o.message||"Failed to load project"}finally{x.value=!1}}function h(o){return{id:o.id,title:o.title||"Environmental Project",slug:o.slug,description:o.description||"",cover_image:o.cover_image||o.thumbnail_image||"/images/ourWork/ourworkhero.avif",project_type:o.project_type,funding_source:o.funding_source||"",impact_metrics:Array.isArray(o.impact_metrics)?o.impact_metrics:[],status:o.status||"published"}}function y(o){return String(o||"").replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}function k(o){return String(o||"").replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}return(o,t)=>{const l=C("router-link");return i(),a("div",B,[x.value?(i(),a("div",F,[...t[0]||(t[0]=[e("div",{class:"text-center"},[e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e("p",{class:"text-gray-600"},"Loading project...")],-1)])])):c.value?(i(),a("div",M,[e("div",V,[t[2]||(t[2]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-2"}," Project Not Found ",-1)),e("p",z,r(c.value),1),g(l,{to:"/environmental-projects",class:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors"},{default:_(()=>[...t[1]||(t[1]=[m("Back to Projects",-1)])]),_:1})])])):s.value?(i(),a("div",I,[e("section",O,[e("div",L,[e("img",{src:v.value,alt:s.value.title||"Environmental Project",class:"w-full h-full object-cover"},null,8,T),t[3]||(t[3]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-green-900/85 via-green-800/80 to-emerald-900/85"},null,-1))]),e("div",W,[e("nav",H,[e("div",U,[g(l,{to:"/",class:"text-green-200 hover:text-white transition-colors"},{default:_(()=>[...t[4]||(t[4]=[m("Home",-1)])]),_:1}),t[6]||(t[6]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),g(l,{to:"/environmental-projects",class:"text-green-200 hover:text-white transition-colors"},{default:_(()=>[...t[5]||(t[5]=[m("Environmental Projects",-1)])]),_:1}),t[7]||(t[7]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",D,r(s.value.title),1)])]),e("div",R,[s.value.project_type?(i(),a("div",J,[t[8]||(t[8]=e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 4a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1V8zm8 0a1 1 0 011-1h4a1 1 0 011 1v2a1 1 0 01-1 1h-4a1 1 0 01-1-1V8z"})],-1)),m(" "+r(y(s.value.project_type)),1)])):j("",!0),e("h1",Q,r(s.value.title),1),e("p",$,r(s.value.description||"No description available."),1),e("div",q,[e("div",G,[e("div",K,r(s.value.funding_source||"N/A"),1),t[9]||(t[9]=e("div",{class:"text-green-200 text-sm"}," Funding Source ",-1))]),e("div",X,[e("div",Y,r(s.value.impact_metrics&&s.value.impact_metrics.length?s.value.impact_metrics.length:0),1),t[10]||(t[10]=e("div",{class:"text-green-200 text-sm"}," Impact Metrics ",-1))])])])])]),e("section",Z,[e("div",ee,[e("div",te,[e("div",se,[e("div",oe,[t[11]||(t[11]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"}," Overview ",-1)),e("div",re,[e("p",ae,r(s.value.description||"No description provided for this project."),1)])]),e("div",ie,[t[12]||(t[12]=e("h2",{class:"text-2xl font-bold text-gray-900 mb-6"}," Impact Metrics ",-1)),s.value.impact_metrics&&s.value.impact_metrics.length?(i(),a("div",ne,[(i(!0),a(E,null,A(s.value.impact_metrics,n=>(i(),a("span",{key:n,class:"px-4 py-2 bg-emerald-100 text-emerald-800 text-sm font-medium rounded-full"},r(k(n)),1))),128))])):(i(),a("div",le," No impact metrics provided for this project. "))])]),e("div",de,[e("div",ce,[t[16]||(t[16]=e("h3",{class:"text-lg font-bold text-gray-900 mb-4"}," Quick Information ",-1)),e("div",ue,[e("div",me,[t[13]||(t[13]=e("span",{class:"text-gray-600"},"Type",-1)),e("span",pe,r(s.value.project_type?y(s.value.project_type):"Not specified"),1)]),e("div",xe,[t[14]||(t[14]=e("span",{class:"text-gray-600"},"Status",-1)),e("span",ve,r(s.value.status||"Unknown"),1)]),e("div",ge,[t[15]||(t[15]=e("span",{class:"text-gray-600"},"Funding",-1)),e("span",_e,r(s.value.funding_source||"Not specified"),1)])])])])])])])])):j("",!0)])}}};export{be as default};
