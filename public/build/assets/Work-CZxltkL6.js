import{r as m,o as K,c as Q,a as i,b as e,d as u,e as c,w as g,f as X,g as p,h as x,F as _,i as k,n as R,t as d,j as n}from"./app-B8RPcBnI.js";/* empty css            */const Y={class:"min-h-screen"},Z={class:"relative text-white overflow-hidden"},tt={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-40"},et={class:"text-center"},st={class:"flex flex-col sm:flex-row gap-4 justify-center animate-fadeInUp",style:{"animation-delay":"0.35s"}},rt={class:"section-padding bg-white"},ot={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},at={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},lt={class:"p-8 rounded-professional-lg border border-gray-200 card-hover"},it={class:"p-8 rounded-professional-lg border border-gray-200 card-hover"},nt={class:"p-8 rounded-professional-lg border border-gray-200 card-hover"},dt={class:"p-8 rounded-professional-lg border border-gray-200 card-hover"},ut={class:"p-8 rounded-professional-lg border border-gray-200 card-hover"},ct={class:"p-8 rounded-professional-lg border border-gray-200 card-hover"},gt={class:"p-8 rounded-professional-lg border border-gray-200 card-hover"},mt={class:"section-padding bg-white"},pt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},xt={class:"text-center mb-16"},vt={class:"mt-6 flex flex-wrap items-center justify-center gap-2"},bt=["onClick"],ft={class:"relative overflow-visible"},ht={class:"relative aspect-[16/9] overflow-hidden rounded-t-professional-lg bg-gray-100"},yt=["src","alt"],wt={key:1,class:"w-full h-full flex items-center justify-center text-gray-400 text-sm"},_t={class:"absolute left-3 top-3 text-xs font-semibold px-2 py-1 rounded bg-green-50 text-green-700"},kt={class:"p-5"},jt={class:"text-base md:text-lg font-bold text-gray-900 mb-1 truncate"},Ct={key:0,class:"text-sm text-gray-600 line-clamp-2 mb-3"},Bt={class:"flex flex-wrap gap-2 text-xs mb-3"},At={key:0,class:"px-2 py-1 rounded bg-emerald-50 text-emerald-700"},Mt={key:1,class:"px-2 py-1 rounded bg-blue-50 text-blue-700"},St={key:2,class:"px-2 py-1 rounded bg-yellow-50 text-yellow-700"},Et={class:"flex items-center justify-between"},Ft={class:"py-6 bg-white"},zt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Pt={class:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-center justify-center"},Tt={class:"section-padding bg-white"},$t={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Dt={class:"relative"},It={class:"overflow-hidden"},Lt={class:"flex items-center gap-4 mb-4"},Nt=["src"],Rt={class:"font-semibold text-gray-900"},Vt={class:"text-sm text-gray-500"},Wt={class:"text-gray-700 leading-relaxed mb-4 line-clamp-4"},Ot={key:0,class:"mt-6 text-center text-red-600"},Ut={class:"section-padding bg-gradient-to-r from-green-600 to-emerald-600 text-white"},Ht={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},qt={class:"grid grid-cols-2 md:grid-cols-4 gap-8"},Gt={class:"text-center"},Jt={class:"text-4xl md:text-5xl font-bold mb-2"},Kt={class:"text-center"},Qt={class:"text-4xl md:text-5xl font-bold mb-2"},Xt={class:"text-center"},Yt={class:"text-4xl md:text-5xl font-bold mb-2"},Zt={class:"text-center"},te={class:"text-4xl md:text-5xl font-bold mb-2"},oe={__name:"Work",setup(ee){const j=m([]),P=m(!0),y=m({}),T=m(null);let C=null;const $=m(["All"]),B=m("All"),E=m([]),A=m(!0),M=m("");async function v(a){try{const t=await fetch(a);return t.ok?await t.json():null}catch{return null}}K(async()=>{const a=await v("/api/stats");if(a){const o=a.summary??{},r=a.historical??{},f=N=>{try{return Object.values(r).flat().filter(S=>S.stat_type===N).reduce((S,J)=>S+(Number(J.value)||0),0)}catch{return 0}};y.value={beneficiaries:o.total_beneficiaries??f("total_beneficiaries")??0,projects:o.active_projects??f("active_projects")??0,team:o.team_members??f("team_members")??0,partners:o.partner_organizations??f("partner_organizations")??0}}const[t,l,s,w,z,L,G]=await Promise.all([v("/api/training-programs?limit=5&orderBy=published_at&direction=desc"),v("/api/market-access-programs?limit=5&orderBy=published_at&direction=desc"),v("/api/community-programs?limit=5&orderBy=published_at&direction=desc"),v("/api/environmental-projects?limit=5&orderBy=published_at&direction=desc"),v("/api/agri-tech-tools?limit=5&orderBy=published_at&direction=desc"),v("/api/smart-farming-programs?limit=5&orderBy=published_at&direction=desc"),v("/api/seed-supply-programs?limit=5&orderBy=published_at&direction=desc")]),b=[],h=(o,r,f)=>({key:`${o}-${r.id}`,type:o,title:r.title??r.name??o,subtitle:r.short_description??r.description??"",status:r.status??r.program_status,location:r.location??r.province??r.region??r.district,dateRange:r.start_date&&r.end_date?`${r.start_date} – ${r.end_date}`:void 0,image:r.thumbnail_image??r.cover_image??r.featured_image??null,published_at:r.published_at??r.start_date??r.created_at??null,route:f});for(const o of t?.data??[])b.push(h("Training",o,"/training-programs"));for(const o of l?.data??[])b.push(h("Market Access",o,"/market-access"));for(const o of s?.data??[])b.push(h("Community",o,"/community"));for(const o of w?.data??[])b.push(h("Environment",o,"/environment"));for(const o of z?.data??[])b.push(h("Agri‑Tech",o,"/agri-tech"));for(const o of L?.data??[])b.push(h("Smart Farming",o,"/smart-farming"));for(const o of G?.data??[])b.push(h("Seed Supply",o,"/seed-supply"));j.value=b.sort((o,r)=>{const f=o.published_at?new Date(o.published_at):new Date(0);return(r.published_at?new Date(r.published_at):new Date(0))-f}),P.value=!1,D(),O(),q()});function F(a){const t=T.value;if(!t)return;t.scrollBy({left:a*380,behavior:"smooth"})}function D(){I(),C=setInterval(()=>F(1),4e3)}function I(){C&&clearInterval(C),C=null}function V(){I()}function W(){D()}async function O(){try{A.value=!0,M.value="";const a=await fetch("/api/success-stories?limit=6");if(!a.ok)throw new Error("Failed to load testimonials");const t=await a.json(),l=Array.isArray(t?.data)?t.data:Array.isArray(t)?t:[];E.value=l.map(s=>({id:s.id,slug:s.slug||String(s.id),author:s.author||s.title||"Client",location:s.location||s.region||"",excerpt:s.excerpt||s.summary||(s.description?String(s.description).slice(0,160):""),avatar:U(s.thumbnail_image||s.cover_image||s.featured_image||"/images/shared/avatar-placeholder.png"),published_at:s.published_at||s.created_at||null})).sort((s,w)=>{const z=s.published_at?new Date(s.published_at):new Date(0);return(w.published_at?new Date(w.published_at):new Date(0))-z})}catch{M.value="Unable to load testimonials right now.",E.value=[]}finally{A.value=!1}}function U(a){const t=String(a).trim();return t.startsWith("http://")||t.startsWith("https://")?t:`/storage/${t.replace(/^\/+/,"")}`}const H=Q(()=>B.value==="All"?j.value:j.value.filter(a=>a.type===B.value));function q(){const a=[...new Set(j.value.map(t=>t.type))];$.value=["All",...a.sort()]}return(a,t)=>{const l=X("router-link");return n(),i("div",Y,[e("section",Z,[t[8]||(t[8]=e("div",{class:"absolute inset-0"},[e("img",{src:"/images/ourWork/ourworkhero.avif",alt:"Our Work",class:"w-full h-full object-cover"})],-1)),t[9]||(t[9]=e("div",{class:"absolute inset-0 bg-black/60"},null,-1)),e("div",tt,[e("div",et,[t[6]||(t[6]=e("h1",{class:"text-4xl md:text-6xl lg:text-7xl font-bold mb-6 animate-fadeInUp"},[u(" Our "),e("span",{class:"gradient-text"},"Work")],-1)),t[7]||(t[7]=e("p",{class:"text-xl md:text-2xl text-green-100 mb-8 max-w-3xl mx-auto animate-fadeInUp",style:{"animation-delay":"0.2s"}}," Building resilient farming livelihoods across Afghanistan through programs, tools, and partnerships. ",-1)),e("div",st,[c(l,{to:"/resources",class:"btn btn-secondary px-8 py-4 text-lg"},{default:g(()=>[...t[4]||(t[4]=[u("Explore Resources",-1)])]),_:1}),c(l,{to:"/contact",class:"btn btn-cta px-8 py-4 text-lg"},{default:g(()=>[...t[5]||(t[5]=[u("Contact Us",-1)])]),_:1})])])])]),e("section",rt,[e("div",ot,[t[35]||(t[35]=e("div",{class:"text-center mb-16"},[e("h2",{class:"heading-lg text-gray-900 mb-4"}," Our Work Areas "),e("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," Extended overview of the seven pillars that drive our programs and impact. ")],-1)),p("",!0),e("div",at,[e("div",lt,[t[21]||(t[21]=x('<div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-6"><svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 14l9-5-9-5-9 5 9 5z"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2"> Training Programs </h3><p class="text-gray-600 mb-4"> Farmer education, GAP, and capacity building across provinces. </p>',3)),c(l,{to:"/training-programs",class:"text-green-700 font-semibold"},{default:g(()=>[...t[20]||(t[20]=[u("Explore →",-1)])]),_:1})]),e("div",it,[t[23]||(t[23]=x('<div class="w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mb-6"><svg class="w-6 h-6 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v8m4-4H8"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2"> Agri‑Tech Tools </h3><p class="text-gray-600 mb-4"> Practical tools, guides, and resources for smarter farming. </p>',3)),c(l,{to:"/agri-tech",class:"text-green-700 font-semibold"},{default:g(()=>[...t[22]||(t[22]=[u("Explore →",-1)])]),_:1})]),e("div",nt,[t[25]||(t[25]=x('<div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center mb-6"><svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h10m-9 4h8"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2"> Market Access Programs </h3><p class="text-gray-600 mb-4"> Linking farmers to buyers, value chains, and partners. </p>',3)),c(l,{to:"/market-access",class:"text-green-700 font-semibold"},{default:g(()=>[...t[24]||(t[24]=[u("Explore →",-1)])]),_:1})]),e("div",dt,[t[27]||(t[27]=x('<div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-6"><svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 2l3 7h7l-5.5 4 2.5 7-7-4-7 4 2.5-7L2 9h7z"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2"> Environmental Projects </h3><p class="text-gray-600 mb-4"> Conservation, reforestation, and water management initiatives. </p>',3)),c(l,{to:"/environment",class:"text-green-700 font-semibold"},{default:g(()=>[...t[26]||(t[26]=[u("Explore →",-1)])]),_:1})]),e("div",ut,[t[29]||(t[29]=x('<div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-6"><svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2"> Smart &amp; Sustainable Farming </h3><p class="text-gray-600 mb-4"> Modern techniques like drip irrigation, greenhouse farming, and precision agriculture with climate-resilient crops. </p>',3)),c(l,{to:"/smart-farming",class:"text-green-700 font-semibold"},{default:g(()=>[...t[28]||(t[28]=[u("Explore →",-1)])]),_:1})]),e("div",ct,[t[31]||(t[31]=x('<div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-6"><svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8-4"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2"> Seed &amp; Input Supply Chain </h3><p class="text-gray-600 mb-4"> High-quality seeds, fertilizers, and eco-friendly pesticides with reliable distribution networks. </p>',3)),c(l,{to:"/seed-supply",class:"text-green-700 font-semibold"},{default:g(()=>[...t[30]||(t[30]=[u("Explore →",-1)])]),_:1})]),e("div",gt,[t[33]||(t[33]=x('<div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-6"><svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 11c1.657 0 3-1.567 3-3.5S13.657 4 12 4 9 5.567 9 7.5 10.343 11 12 11zM5 20a7 7 0 0114 0v1H5v-1z"></path></svg></div><h3 class="text-xl font-bold text-gray-900 mb-2"> Community Programs </h3><p class="text-gray-600 mb-4"> Empowerment for women, youth, cooperatives, and farmers. </p>',3)),c(l,{to:"/community",class:"text-green-700 font-semibold"},{default:g(()=>[...t[32]||(t[32]=[u("Explore →",-1)])]),_:1})])]),p("",!0)])]),e("section",mt,[e("div",pt,[e("div",xt,[t[36]||(t[36]=e("h2",{class:"heading-lg text-gray-900 mb-4"}," Featured Programs ",-1)),t[37]||(t[37]=e("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," A quick look at ongoing initiatives across our company. ",-1)),e("div",vt,[(n(!0),i(_,null,k($.value,s=>(n(),i("button",{key:s,type:"button",onClick:w=>B.value=s,class:R(["px-3 py-1.5 rounded-full text-sm border transition-colors",B.value===s?"bg-green-600 text-white border-green-600":"bg-white text-gray-700 border-gray-300 hover:border-gray-400"])},d(s),11,bt))),128))])]),e("div",ft,[e("button",{type:"button",onClick:t[0]||(t[0]=s=>F(-1)),class:"hidden md:flex absolute left-0 -translate-x-1/2 top-1/2 -translate-y-1/2 z-20 items-center justify-center w-10 h-10 rounded-full bg-white/95 shadow ring-1 ring-black/5 hover:bg-white","aria-label":"Previous"},[...t[38]||(t[38]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e("button",{type:"button",onClick:t[1]||(t[1]=s=>F(1)),class:"hidden md:flex absolute right-0 translate-x-1/2 top-1/2 -translate-y-1/2 z-20 items-center justify-center w-10 h-10 rounded-full bg-white/95 shadow ring-1 ring-black/5 hover:bg-white","aria-label":"Next"},[...t[39]||(t[39]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])]),e("div",{ref_key:"featuredTrack",ref:T,class:"flex gap-6 overflow-x-auto snap-x snap-mandatory snap-always scroll-smooth pb-2 px-2 md:px-3",style:{"scroll-snap-stop":"always","scroll-padding-inline":"1rem"},onMouseenter:t[2]||(t[2]=s=>V()),onMouseleave:t[3]||(t[3]=s=>W())},[t[42]||(t[42]=e("div",{class:"shrink-0 w-6 md:w-6 lg:w-8"},null,-1)),(n(!0),i(_,null,k(H.value,s=>(n(),i("div",{key:s.key,class:"min-w-[100%] sm:min-w-[60%] md:min-w-[340px] lg:min-w-[380px] snap-start rounded-professional-lg border border-gray-200 bg-white card-hover"},[e("div",ht,[s.image?(n(),i("img",{key:0,src:s.image,alt:s.title,class:"w-full h-full object-cover",loading:"lazy"},null,8,yt)):(n(),i("div",wt," No image ")),e("span",_t,d(s.type),1)]),e("div",kt,[e("h3",jt,d(s.title),1),s.subtitle?(n(),i("p",Ct,d(s.subtitle),1)):p("",!0),e("div",Bt,[s.status?(n(),i("span",At,"Status: "+d(s.status),1)):p("",!0),s.location?(n(),i("span",Mt,d(s.location),1)):p("",!0),s.dateRange?(n(),i("span",St,d(s.dateRange),1)):p("",!0)]),e("div",Et,[c(l,{to:s.route,class:"text-sm text-green-700 font-semibold hover:underline"},{default:g(()=>[...t[40]||(t[40]=[u("View all",-1)])]),_:1},8,["to"])])])]))),128)),t[43]||(t[43]=e("div",{class:"shrink-0 w-6 md:w-6 lg:w-8"},null,-1)),P.value?(n(),i(_,{key:0},k(3,s=>e("div",{key:"sk-"+s,class:"min-w-[280px] md:min-w-[340px] lg:min-w-[380px] snap-start rounded-professional-lg border border-gray-200 bg-white animate-pulse"},[...t[41]||(t[41]=[x('<div class="aspect-[16/9] bg-gray-200 rounded-t-professional-lg"></div><div class="p-5"><div class="h-5 w-3/4 bg-gray-200 rounded mb-2"></div><div class="h-4 w-2/3 bg-gray-100 rounded mb-3"></div><div class="flex gap-2"><div class="h-4 w-20 bg-gray-100 rounded"></div><div class="h-4 w-16 bg-gray-100 rounded"></div></div></div>',2)])])),64)):p("",!0)],544)])])]),e("section",Ft,[e("div",zt,[e("div",Pt,[c(l,{to:"/training-programs",class:"btn btn-primary"},{default:g(()=>[...t[44]||(t[44]=[u(" View all programs ",-1)])]),_:1}),c(l,{to:"/contact",class:"btn btn-secondary"},{default:g(()=>[...t[45]||(t[45]=[u(" Contact program team ",-1)])]),_:1})])])]),e("section",Tt,[e("div",$t,[t[48]||(t[48]=e("div",{class:"text-center mb-16"},[e("h2",{class:"heading-lg text-gray-900 mb-4"}," Success Stories "),e("p",{class:"text-xl text-gray-600 max-w-3xl mx-auto"}," Real stories from the farmers and communities we serve. ")],-1)),e("div",Dt,[e("div",It,[e("div",{class:R(["flex gap-6",{"animate-pulse":A.value}])},[(n(!0),i(_,null,k(E.value,s=>(n(),i("article",{key:s.id,class:"flex-shrink-0 w-full md:w-1/2 lg:w-1/3 bg-white rounded-professional-lg border border-gray-200 shadow-professional p-6"},[e("div",Lt,[e("img",{src:s.avatar,alt:"avatar",class:"w-12 h-12 rounded-full object-cover"},null,8,Nt),e("div",null,[e("h3",Rt,d(s.author),1),e("div",Vt,d(s.location),1)])]),e("p",Wt," “"+d(s.excerpt)+"” ",1),c(l,{to:`/success-stories/${s.slug}`,class:"text-green-700 font-semibold hover:underline"},{default:g(()=>[...t[46]||(t[46]=[u("Read full story",-1)])]),_:1},8,["to"])]))),128)),A.value?(n(),i(_,{key:0},k(3,s=>e("article",{key:"t-sk-"+s,class:"flex-shrink-0 w-full md:w-1/2 lg:w-1/3 bg-white rounded-professional-lg border border-gray-200 p-6 animate-pulse"},[...t[47]||(t[47]=[x('<div class="h-12 w-12 rounded-full bg-gray-200 mb-4"></div><div class="h-4 w-1/2 bg-gray-200 mb-2"></div><div class="h-3 w-1/3 bg-gray-100 mb-4"></div><div class="h-3 w-full bg-gray-100 mb-2"></div><div class="h-3 w-5/6 bg-gray-100 mb-2"></div><div class="h-3 w-2/3 bg-gray-100"></div>',6)])])),64)):p("",!0)],2)])]),M.value?(n(),i("div",Ot,d(M.value),1)):p("",!0)])]),e("section",Ut,[e("div",Ht,[t[53]||(t[53]=e("div",{class:"text-center mb-16"},[e("h2",{class:"heading-lg mb-4"},"Our Impact"),e("p",{class:"text-xl text-green-100 max-w-3xl mx-auto"}," Measurable results from our beneficiaries and programs. ")],-1)),e("div",qt,[e("div",Gt,[e("div",Jt,d(y.value.beneficiaries??"—"),1),t[49]||(t[49]=e("div",{class:"text-green-100"},"Beneficiaries",-1))]),e("div",Kt,[e("div",Qt,d(y.value.projects??"—"),1),t[50]||(t[50]=e("div",{class:"text-green-100"},"Projects",-1))]),e("div",Xt,[e("div",Yt,d(y.value.team??"—"),1),t[51]||(t[51]=e("div",{class:"text-green-100"},"Team Members",-1))]),e("div",Zt,[e("div",te,d(y.value.partners??"—"),1),t[52]||(t[52]=e("div",{class:"text-green-100"},"Partner Orgs",-1))])])])])])}}};export{oe as default};
