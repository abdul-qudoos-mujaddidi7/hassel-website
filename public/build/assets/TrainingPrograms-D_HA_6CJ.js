import{s as O,b as a,k as s,F as p,e as f,i as T,d as e,l as z,n as Q,r as b,c as W,z as V,o as G,a as J,g as j,w as I,m as S,t as l,u as d,h as X,C as A,al as Y,ai as Z,A as ee,f as k,v as M,a6 as te}from"./_plugin-vue_export-helper-Bve7U4QZ.js";import{u as se}from"./app-TYN59OvT.js";/* empty css            */const ae={key:0,class:"space-y-6"},oe={key:1,class:"space-y-4"},le={key:2,class:"overflow-hidden"},ne={class:"animate-pulse"},ie={class:"flex space-x-4 p-4 bg-gray-50"},re={class:"space-y-3 p-4"},de={key:3,class:"space-y-3 animate-pulse"},ce={key:4,class:"animate-pulse"},ue={key:5,class:"animate-pulse"},ge={__name:"SkeletonLoader",props:{type:{type:String,default:"default",validator:u=>["card","list","table","text","image","default"].includes(u)},count:{type:Number,default:3},columns:{type:Number,default:4},width:{type:String,default:"100%"},height:{type:String,default:"200px"},containerClass:{type:String,default:""}},setup(u){return(x,g)=>(s(),a("div",{class:z(["skeleton-container",u.containerClass])},[u.type==="card"?(s(),a("div",ae,[(s(!0),a(p,null,f(u.count,n=>(s(),a("div",{key:n,class:"rounded-professional-lg p-6 bg-white shadow-soft animate-pulse"},[...g[0]||(g[0]=[T('<div class="flex items-start gap-4" data-v-3c517dbb><div class="w-16 h-16 bg-gray-200 rounded-lg" data-v-3c517dbb></div><div class="flex-1 space-y-3" data-v-3c517dbb><div class="h-4 bg-gray-200 rounded w-3/4" data-v-3c517dbb></div><div class="h-3 bg-gray-200 rounded w-1/2" data-v-3c517dbb></div><div class="h-3 bg-gray-200 rounded w-5/6" data-v-3c517dbb></div><div class="flex gap-2" data-v-3c517dbb><div class="h-6 bg-gray-200 rounded-full w-16" data-v-3c517dbb></div><div class="h-6 bg-gray-200 rounded-full w-20" data-v-3c517dbb></div></div></div></div>',1)])]))),128))])):u.type==="list"?(s(),a("div",oe,[(s(!0),a(p,null,f(u.count,n=>(s(),a("div",{key:n,class:"flex items-center gap-4 p-4 bg-white rounded-lg shadow-soft animate-pulse"},[...g[1]||(g[1]=[T('<div class="w-12 h-12 bg-gray-200 rounded-full" data-v-3c517dbb></div><div class="flex-1 space-y-2" data-v-3c517dbb><div class="h-4 bg-gray-200 rounded w-1/3" data-v-3c517dbb></div><div class="h-3 bg-gray-200 rounded w-1/2" data-v-3c517dbb></div></div><div class="h-8 bg-gray-200 rounded w-20" data-v-3c517dbb></div>',3)])]))),128))])):u.type==="table"?(s(),a("div",le,[e("div",ne,[e("div",ie,[(s(!0),a(p,null,f(u.columns,n=>(s(),a("div",{key:n,class:"h-4 bg-gray-200 rounded w-1/4"}))),128))]),e("div",re,[(s(!0),a(p,null,f(u.count,n=>(s(),a("div",{key:n,class:"flex space-x-4"},[(s(!0),a(p,null,f(u.columns,h=>(s(),a("div",{key:h,class:"h-4 bg-gray-200 rounded w-1/4"}))),128))]))),128))])])])):u.type==="text"?(s(),a("div",de,[(s(!0),a(p,null,f(u.count,n=>(s(),a("div",{key:n,class:z(["h-4 bg-gray-200 rounded",n===u.count?"w-3/4":"w-full"])},null,2))),128))])):u.type==="image"?(s(),a("div",ce,[e("div",{class:"bg-gray-200 rounded-lg",style:Q({width:u.width,height:u.height})},null,4)])):(s(),a("div",ue,[...g[2]||(g[2]=[e("div",{class:"space-y-4"},[e("div",{class:"h-4 bg-gray-200 rounded w-3/4"}),e("div",{class:"h-4 bg-gray-200 rounded w-1/2"}),e("div",{class:"h-4 bg-gray-200 rounded w-5/6"})],-1)])]))],2))}},ve=O(ge,[["__scopeId","data-v-3c517dbb"]]),me={class:"min-h-screen bg-gray-50"},be={class:"relative overflow-hidden"},pe={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-32"},fe={class:"mb-8"},xe={class:"flex items-center space-x-2 text-sm"},he={class:"text-center max-w-4xl mx-auto"},ye={class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-green-500/20 text-green-100 border border-green-400/30 mb-6"},_e={class:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight"},we={class:"text-xl text-white mb-8 leading-relaxed max-w-3xl mx-auto"},ke={class:"flex flex-col items-center"},Ce={class:"text-green-200 text-sm mb-2"},Se={class:"py-8 bg-white border-b border-gray-100"},Me={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},$e={class:"flex items-center justify-between mb-6"},Be={class:"text-2xl font-bold text-gray-900"},Pe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},Te={class:"relative"},Le={class:"block text-sm font-medium text-gray-700 mb-2"},Ne={value:""},ze={value:"published"},Ve={value:"ongoing"},je={value:"completed"},Ie={class:"relative"},Ae={class:"block text-sm font-medium text-gray-700 mb-2"},Re={class:"relative"},Fe=["placeholder"],Ue={class:"flex items-end"},De={class:"w-full bg-gray-50 rounded-lg px-4 py-3 text-sm text-gray-600"},qe={class:"font-medium"},Ee={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},He={key:1},Ke={key:0,class:"text-center text-gray-600 py-12"},Oe={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Qe={class:"relative aspect-[16/9] bg-gray-100"},We=["src","alt"],Ge={key:1,class:"absolute left-3 top-3 text-xs font-semibold px-2 py-1 rounded bg-green-50 text-green-700"},Je={class:"p-5 flex flex-col flex-1"},Xe={class:"font-bold text-lg text-gray-900 mb-1 line-clamp-2 min-h-[3.25rem]"},Ye={key:0,class:"text-sm text-gray-600 line-clamp-2 mb-3 min-h-[2.5rem]"},Ze={class:"flex flex-wrap gap-2 text-xs mb-3 min-h-[1.75rem]"},et={key:0,class:"px-2 py-1 rounded bg-brand-cream text-brand-primary"},tt={key:1,class:"px-2 py-1 rounded bg-brand-cream text-brand-primary"},st={class:"flex items-center justify-center gap-2 mt-8"},at=["disabled"],ot={class:"text-sm text-gray-600"},lt=["disabled"],dt={__name:"TrainingPrograms",setup(u){const x=b(!0),g=b([]),n=b(1),h=b(9),L=b(null),{currentLanguage:R,onLanguageChange:F,t:r}=se();let $=null;async function N(){await te();const i=L.value;i&&typeof i.scrollIntoView=="function"?i.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})}const y=b(0),_=b("recent"),v=b({status:"",location:""});function U(){v.value={status:"",location:""}}const B=W(()=>Math.max(1,Math.ceil(y.value/h.value)));V(v,()=>{n.value=1,C()},{deep:!0}),V(n,()=>{C()}),G(()=>{C(),$=F(()=>{C()})}),J(()=>{typeof $=="function"&&$()});function D(){const i=new URLSearchParams;i.set("page",String(n.value)),i.set("per_page",String(h.value)),_.value==="recent"?(i.set("orderBy","created_at"),i.set("direction","desc")):_.value==="upcoming"?(i.set("orderBy","start_date"),i.set("direction","asc")):_.value==="az"&&(i.set("orderBy","title"),i.set("direction","asc")),v.value.status&&i.set("status",v.value.status),v.value.location&&i.set("location",v.value.location);const t=localStorage.getItem("preferred_language")||R?.value||"en";return i.set("lang",t),i.toString()}async function C(){x.value=!0;try{const i=D();console.log("Fetching with query:",i),console.log("Current filters:",v.value);const t=await fetch(`/api/training-programs?${i}`);if(!t.ok)throw new Error("Failed to load");const m=await t.json();console.log("API response:",m);const w=(Array.isArray(m?.data)?m.data:Array.isArray(m)?m:[]).map(o=>({id:o.id,slugOrId:o.slug||o.id,title:o.title||o.name||"Training Program",subtitle:o.short_description||o.description||"",status:o.status||o.program_status,location:o.location||o.province||o.region||o.district,dateRange:o.start_date&&o.end_date?`${o.start_date} â€“ ${o.end_date}`:void 0,image:o.thumbnail_image||o.cover_image||o.featured_image||null,created_at:o.created_at||o.start_date,start_date:o.start_date||null}));_.value==="recent"?g.value=w.sort((o,P)=>new Date(P.created_at||0)-new Date(o.created_at||0)):_.value==="az"?g.value=w.sort((o,P)=>String(o.title).localeCompare(String(P.title))):g.value=w,v.value.status&&(g.value=g.value.filter(o=>String(o.status||"").toLowerCase()===String(v.value.status).toLowerCase())),m?.meta?.total?(y.value=Number(m.meta.total)||w.length,h.value=Number(m.meta.per_page)||h.value,n.value=Number(m.meta.current_page)||n.value):y.value=w.length}catch{g.value=[],y.value=0}finally{x.value=!1}}function q(){n.value>1&&(n.value-=1)}function E(){n.value<B.value&&(n.value+=1)}async function H(){q(),await N()}async function K(){E(),await N()}return(i,t)=>{const m=X("router-link");return s(),a("div",me,[e("section",be,[t[10]||(t[10]=T('<div class="absolute inset-0"><img src="/images/ourWork/ourworkhero.avif" alt="Training Programs" class="w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-br from-green-900/85 via-green-800/80 to-emerald-900/85"></div></div><div class="absolute top-20 right-20 w-32 h-32 bg-white/10 rounded-full blur-xl"></div><div class="absolute bottom-20 left-20 w-24 h-24 bg-green-400/20 rounded-full blur-lg"></div><div class="absolute top-1/2 left-1/4 w-16 h-16 bg-yellow-400/15 rounded-full blur-md"></div>',4)),e("div",pe,[e("nav",fe,[e("div",xe,[j(m,{to:"/",class:"text-green-200 hover:text-white transition-colors"},{default:I(()=>[S(l(d(r)("training.breadcrumb.home")),1)]),_:1}),t[6]||(t[6]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),t[7]||(t[7]=e("span",{class:"text-white font-medium"},"Training Programs",-1))])]),e("div",he,[e("div",ye,[t[8]||(t[8]=e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),S(" "+l(d(r)("training.badge")),1)]),e("h1",_e,l(d(r)("training.title")),1),e("p",we,l(d(r)("training.subtitle")),1),e("div",ke,[e("span",Ce,l(d(r)("training.scroll")),1),t[9]||(t[9]=e("svg",{class:"w-6 h-6 text-green-300 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1))])])])]),e("section",Se,[e("div",Me,[e("div",$e,[e("h2",Be,l(d(r)("training.filters.title")),1),e("button",{onClick:U,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},[t[11]||(t[11]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),S(" "+l(d(r)("training.filters.reset")),1)])]),e("div",Pe,[e("div",Te,[e("label",Le,l(d(r)("training.filters.status")),1),A(e("select",{"onUpdate:modelValue":t[0]||(t[0]=c=>v.value.status=c),class:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},[e("option",Ne,l(d(r)("training.filters.status_all")),1),e("option",ze,l(d(r)("training.filters.status_published")),1),e("option",Ve,l(d(r)("training.filters.status_ongoing")),1),e("option",je,l(d(r)("training.filters.status_completed")),1)],512),[[Y,v.value.status]])]),e("div",Ie,[e("label",Ae,l(d(r)("training.filters.location")),1),e("div",Re,[A(e("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>v.value.location=c),type:"text",placeholder:d(r)("training.filters.location_placeholder"),class:"w-full border border-gray-300 rounded-lg px-4 py-3 pl-10 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},null,8,Fe),[[Z,v.value.location]]),t[12]||(t[12]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1))])]),e("div",Ue,[e("div",De,[e("span",qe,l(d(r)("training.results.count",{count:y.value})),1)])])])])]),e("section",{class:"py-12 bg-gray-50",ref_key:"programsTopRef",ref:L},[e("div",Ee,[x.value?(s(),ee(ve,{key:0,type:"card",count:6,"container-class":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"})):(s(),a("div",He,[g.value.length===0?(s(),a("div",Ke,l(d(r)("training.empty")),1)):(s(),a("div",Oe,[(s(!0),a(p,null,f(g.value,c=>(s(),a("article",{key:c.id,class:"rounded-professional-lg border border-gray-200 bg-white card-hover overflow-hidden flex flex-col h-full"},[e("div",Qe,[c.image?(s(),a("img",{key:0,src:c.image,alt:c.title,class:"w-full h-full object-cover",loading:"lazy"},null,8,We)):k("",!0),c.status?(s(),a("span",Ge,l(c.status),1)):k("",!0)]),e("div",Je,[e("h3",Xe,l(c.title),1),c.subtitle?(s(),a("p",Ye,l(c.subtitle),1)):k("",!0),e("div",Ze,[c.location?(s(),a("span",et,l(c.location),1)):k("",!0),c.dateRange?(s(),a("span",tt,l(c.dateRange),1)):k("",!0)]),j(m,{to:`/training-programs/${c.slugOrId}`,class:"text-green-700 font-semibold text-sm hover:underline mt-auto"},{default:I(()=>[S(l(d(r)("training.view_details")),1)]),_:1},8,["to"])])]))),128))])),e("div",st,[e("button",{disabled:n.value<=1||x.value,onClick:H,class:"px-3 py-2 border rounded-md disabled:opacity-50",onMousedown:t[2]||(t[2]=M(()=>{},["prevent"])),onKeydown:t[3]||(t[3]=M(()=>{},["prevent","stop"]))},l(d(r)("training.pagination.prev")),41,at),e("span",ot,l(d(r)("training.pagination.page_of",{page:n.value,total:B.value})),1),e("button",{disabled:n.value>=B.value||x.value,onClick:K,class:"px-3 py-2 border rounded-md disabled:opacity-50",onMousedown:t[4]||(t[4]=M(()=>{},["prevent"])),onKeydown:t[5]||(t[5]=M(()=>{},["prevent","stop"]))},l(d(r)("training.pagination.next")),41,lt)])]))])],512)])}}};export{dt as default};
