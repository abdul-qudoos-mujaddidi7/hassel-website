import{r as f,c as g,z as F,o as H,a as N,b as r,d as e,i as b,g as C,w as M,m as h,h as T,t as a,C as P,al as U,F as y,e as _,ai as I,f as w,k as l}from"./_plugin-vue_export-helper-Bve7U4QZ.js";import{u as D}from"./app-TYN59OvT.js";/* empty css            */const R={class:"min-h-screen bg-gray-50"},$={class:"relative overflow-hidden"},q={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-32"},O={class:"mb-8"},W={class:"flex items-center space-x-2 text-sm"},G={class:"text-center max-w-4xl mx-auto"},J={class:"flex flex-wrap justify-center gap-6 mb-8"},K={class:"text-center"},Q={class:"text-3xl font-bold text-white"},X={class:"text-center"},Y={class:"text-3xl font-bold text-white"},Z={class:"text-center"},ee={class:"text-3xl font-bold text-white"},te={class:"py-8 bg-white border-b border-gray-100"},se={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},oe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},re={class:"relative"},le=["value"],ne={class:"relative sm:col-span-2 lg:col-span-1"},ae={class:"relative"},ie={class:"py-12 bg-gray-50"},de={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},ce={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ue={key:1},me={key:0,class:"text-center py-12"},ge={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},pe={class:"aspect-[16/9] bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg mb-4 flex items-center justify-center"},ve={key:0,class:"w-full h-full"},xe=["src","alt"],fe={key:1,class:"text-center"},be={class:"mb-4 flex-grow"},he={class:"text-lg font-semibold text-gray-900 mb-2"},ye={class:"text-gray-600 text-sm line-clamp-2"},_e={class:"flex flex-wrap gap-2 mb-4"},we={key:0,class:"px-2 py-1 bg-brand-cream text-brand-primary text-xs font-medium rounded-full"},ke={key:1,class:"px-2 py-1 bg-brand-cream text-brand-primary text-xs font-medium rounded-full"},je={key:2,class:"px-2 py-1 bg-brand-cream text-brand-primary text-xs font-medium rounded-full"},Ce={class:"mt-4"},Ve={__name:"EnvironmentalProjects",setup(Me){const p=f(!0),i=f([]),{currentLanguage:S,onLanguageChange:A}=D();let v=null;const n=f({project_type:"",search:""}),B=g(()=>{const o=i.value.map(t=>t.project_type).filter(Boolean);return[...new Set(o)]}),V=g(()=>i.value.length),L=g(()=>{const o=i.value.map(t=>t.funding_source).filter(Boolean);return new Set(o).size}),z=g(()=>i.value.reduce((o,t)=>o+(Array.isArray(t.impact_metrics)?t.impact_metrics.length:0),0));F(n,x,{deep:!0}),H(()=>{x(),v=A(()=>x())}),N(()=>{typeof v=="function"&&v()});async function x(){p.value=!0;try{const o=new URLSearchParams;n.value.project_type&&o.set("project_type",n.value.project_type),n.value.search&&o.set("search",n.value.search);const t=localStorage.getItem("preferred_language")||S?.value||"en";o.set("lang",t);const c=await fetch(`/api/environmental-projects?${o.toString()}`);if(!c.ok)throw new Error("Failed to load projects");const s=await c.json();let u=(Array.isArray(s?.data)?s.data:Array.isArray(s)?s:[]).map(E);if(n.value.search){const m=n.value.search.toLowerCase();u=u.filter(d=>d.title&&d.title.toLowerCase().includes(m)||d.description&&d.description.toLowerCase().includes(m)||d.project_type&&d.project_type.toLowerCase().includes(m))}n.value.project_type&&(u=u.filter(m=>m.project_type===n.value.project_type)),i.value=u}catch{i.value=[]}finally{p.value=!1}}function k(){n.value={project_type:"",search:""}}function E(o){return{id:o.id,title:o.title||"Environmental Project",slug:o.slug,description:o.description||"",cover_image:o.cover_image||o.thumbnail_image,project_type:o.project_type||o.project_type_display,impact_metrics:Array.isArray(o.impact_metrics)?o.impact_metrics:[],funding_source:o.funding_source||"",status:o.status||"published"}}function j(o){return String(o||"").replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase())}return(o,t)=>{const c=T("router-link");return l(),r("div",R,[e("section",$,[t[10]||(t[10]=b('<div class="absolute inset-0"><img src="/images/ourWork/ourworkhero.avif" alt="Environmental Projects" class="w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-br from-green-900/85 via-green-800/80 to-emerald-900/85"></div></div><div class="absolute top-20 right-20 w-32 h-32 bg-white/10 rounded-full blur-xl"></div><div class="absolute bottom-20 left-20 w-24 h-24 bg-green-400/20 rounded-full blur-lg"></div><div class="absolute top-1/2 left-1/4 w-16 h-16 bg-green-400/15 rounded-full blur-md"></div>',4)),e("div",q,[e("nav",O,[e("div",W,[C(c,{to:"/",class:"text-green-200 hover:text-white transition-colors"},{default:M(()=>[...t[2]||(t[2]=[h("Home",-1)])]),_:1}),t[3]||(t[3]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),t[4]||(t[4]=e("span",{class:"text-white font-medium"},"Environmental Projects",-1))])]),e("div",G,[t[8]||(t[8]=b('<div class="inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-green-500/20 text-green-100 border border-green-400/30 mb-6"><svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 4a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1V8zm8 0a1 1 0 011-1h4a1 1 0 011 1v2a1 1 0 01-1 1h-4a1 1 0 01-1-1V8z"></path></svg> Environmental Stewardship </div><h1 class="text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight"> Environmental Projects </h1><p class="text-xl text-white mb-8 leading-relaxed max-w-3xl mx-auto"> Protect ecosystems and promote sustainability through evidence-based, community-driven projects. </p>',3)),e("div",J,[e("div",K,[e("div",Q,a(V.value),1),t[5]||(t[5]=e("div",{class:"text-green-200 text-sm"}," Active Projects ",-1))]),e("div",X,[e("div",Y,a(L.value),1),t[6]||(t[6]=e("div",{class:"text-green-200 text-sm"}," Funding Sources ",-1))]),e("div",Z,[e("div",ee,a(z.value),1),t[7]||(t[7]=e("div",{class:"text-green-200 text-sm"}," Impact Metrics ",-1))])]),t[9]||(t[9]=e("div",{class:"flex flex-col items-center"},[e("span",{class:"text-green-200 text-sm mb-2"},"Explore projects below"),e("svg",{class:"w-6 h-6 text-green-300 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1))])])]),e("section",te,[e("div",se,[e("div",{class:"flex items-center justify-between mb-6"},[t[12]||(t[12]=e("h2",{class:"text-2xl font-bold text-gray-900"}," Filter Projects ",-1)),e("button",{onClick:k,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},[...t[11]||(t[11]=[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),h(" Reset Filters ",-1)])])]),e("div",oe,[e("div",re,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Project Type",-1)),P(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>n.value.project_type=s),class:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},[t[13]||(t[13]=e("option",{value:""},"All Types",-1)),(l(!0),r(y,null,_(B.value,s=>(l(),r("option",{key:s,value:s},a(j(s)),9,le))),128))],512),[[U,n.value.project_type]])]),e("div",ne,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Search",-1)),e("div",ae,[P(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>n.value.search=s),type:"text",placeholder:"Search projects...",class:"w-full border border-gray-300 rounded-lg px-4 py-3 pl-10 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},null,512),[[I,n.value.search]]),t[15]||(t[15]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])])])]),e("section",ie,[e("div",de,[p.value?(l(),r("div",ce,[(l(),r(y,null,_(6,s=>e("div",{key:"sk-"+s,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-pulse"},[...t[17]||(t[17]=[e("div",{class:"aspect-[16/9] bg-gray-200 rounded-lg mb-4"},null,-1),e("div",{class:"h-6 bg-gray-200 w-3/4 mb-2"},null,-1),e("div",{class:"h-4 bg-gray-100 w-1/2 mb-4"},null,-1),e("div",{class:"h-4 bg-gray-100 w-full"},null,-1)])])),64))])):(l(),r("div",ue,[i.value.length===0?(l(),r("div",me,[t[18]||(t[18]=b('<div class="w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg></div><h3 class="text-xl font-semibold text-gray-900 mb-2"> No Projects Found </h3><p class="text-gray-600 mb-6"> No projects match your current filters. Try adjusting your search. </p>',3)),e("button",{onClick:k,class:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors"}," Clear Filters ")])):(l(),r("div",ge,[(l(!0),r(y,null,_(i.value,s=>(l(),r("div",{key:s.id,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-lg transition-shadow flex flex-col"},[e("div",pe,[s.cover_image?(l(),r("div",ve,[e("img",{src:s.cover_image,alt:s.title,class:"w-full h-full object-cover rounded-lg"},null,8,xe)])):(l(),r("div",fe,[...t[19]||(t[19]=[e("svg",{class:"w-16 h-16 text-green-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7l1.664 9.152A2 2 0 006.64 18h10.72a2 2 0 001.976-1.848L21 7M5 7h14M7 10h10"})],-1),e("p",{class:"text-green-600 font-medium"}," Environmental ",-1)])]))]),e("div",be,[e("h3",he,a(s.title),1),e("p",ye,a(s.description),1)]),e("div",_e,[s.project_type?(l(),r("span",we,a(j(s.project_type)),1)):w("",!0),s.funding_source?(l(),r("span",ke,a(s.funding_source),1)):w("",!0),s.impact_metrics&&s.impact_metrics.length?(l(),r("span",je,a(s.impact_metrics.length)+" Metrics",1)):w("",!0)]),e("div",Ce,[C(c,{to:`/environmental-projects/${s.slug||s.id}`,class:"w-full bg-brand-primary text-white font-semibold py-3 px-4 rounded-lg hover:bg-brand-secondary transition-all duration-200 text-sm text-center shadow-sm hover:shadow-md block"},{default:M(()=>[...t[20]||(t[20]=[h("View Details",-1)])]),_:1},8,["to"])])]))),128))]))]))])])])}}};export{Ve as default};
