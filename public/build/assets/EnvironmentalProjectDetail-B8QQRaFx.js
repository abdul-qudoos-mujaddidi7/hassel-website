import{r as v,u as P,o as V,k as A,B as I,a as i,g as S,b as e,t,m as n,e as f,w as y,d as p,f as z,F as M,i as F,j as l}from"./app-Cp5YG-0j.js";/* empty css            */const L={class:"min-h-screen bg-gray-50"},N={key:0,class:"min-h-screen flex items-center justify-center"},O={class:"text-center"},R={class:"text-gray-600"},U={key:1,class:"min-h-screen flex items-center justify-center"},W={class:"text-center max-w-md mx-auto px-4"},T={class:"text-2xl font-bold text-gray-900 mb-2"},$={class:"text-gray-600 mb-6"},D={key:2},H={class:"relative overflow-hidden"},q={class:"absolute inset-0"},J=["src","alt"],G={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-32"},K={class:"mb-8"},Q={class:"flex items-center space-x-2 text-sm"},X={class:"text-white font-medium"},Y={class:"text-center max-w-4xl mx-auto"},Z={key:0,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-green-500/20 text-green-100 border border-green-400/30 mb-6"},ee={class:"text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight"},te={class:"text-xl text-white mb-8 leading-relaxed max-w-3xl mx-auto"},se={class:"flex flex-wrap justify-center gap-6 mb-8"},oe={class:"text-center"},ae={class:"text-2xl font-bold text-white"},ne={class:"text-green-200 text-sm"},re={class:"text-center"},ie={class:"text-2xl font-bold text-white"},le={class:"text-green-200 text-sm"},ce={class:"py-12 sm:py-16"},de={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},me={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8"},ue={class:"lg:col-span-2 space-y-6 sm:space-y-8"},_e={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 md:p-8"},ve={class:"text-2xl font-bold text-gray-900 mb-6"},pe={class:"prose max-w-none"},ge={class:"text-gray-600 leading-relaxed"},xe={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8"},he={class:"text-2xl font-bold text-gray-900 mb-6"},fe={key:0,class:"flex flex-wrap gap-3"},ye={key:1,class:"p-6 bg-gray-50 border border-gray-200 rounded-xl text-center text-gray-600"},be={class:"space-y-4 sm:space-y-6"},we={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6"},je={class:"text-lg font-bold text-gray-900 mb-4"},ke={class:"space-y-4"},Ce={class:"flex items-center justify-between"},Se={class:"text-gray-600"},Be={class:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full"},Ee={class:"flex items-center justify-between"},Pe={class:"text-gray-600"},Ve={class:"text-gray-900 font-medium"},Ae={class:"flex items-center justify-between"},Ie={class:"text-gray-600"},ze={class:"text-gray-900 font-medium"},Oe={__name:"EnvironmentalProjectDetail",setup(Me){const g=I(),x=v(!0),u=v(null),s=v(null),h=v("/images/ourWork/ourworkhero.avif"),{currentLanguage:B,t:a}=P();V(b),A(()=>g.params.idOrSlug,()=>{g.params.idOrSlug&&(b(),window.scrollTo({top:0,behavior:"smooth"}))});async function b(){x.value=!0,u.value=null;try{const o=g.params.idOrSlug,r=localStorage.getItem("preferred_language")||B?.value||"en";let c=await fetch(`/api/environmental-projects/${o}?lang=${encodeURIComponent(r)}`);if(c.ok){const d=await c.json(),C=d?.data||d?.project||d;if(!C)throw new Error("Invalid project data received");s.value=w(C),h.value=s.value.cover_image||"/images/ourWork/ourworkhero.avif";return}const m=await fetch(`/api/environmental-projects?lang=${encodeURIComponent(r)}`);if(!m.ok)throw new Error("Failed to load projects");const _=await m.json(),k=(Array.isArray(_?.data)?_.data:Array.isArray(_)?_:[]).find(d=>d.slug===o||String(d.id)===String(o));if(!k)throw new Error("Project not found");s.value=w(k),h.value=s.value.cover_image||"/images/ourWork/ourworkhero.avif"}catch(o){u.value=o.message||"Failed to load project"}finally{x.value=!1}}function w(o){return{id:o.id,title:o.title||"Environmental Project",slug:o.slug,description:o.description||"",cover_image:o.cover_image||o.thumbnail_image||"/images/ourWork/ourworkhero.avif",project_type:o.project_type,funding_source:o.funding_source||"",impact_metrics:Array.isArray(o.impact_metrics)?o.impact_metrics:[],status:o.status||"published"}}function j(o){return String(o||"").replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase())}function E(o){return String(o||"").replace(/_/g," ").replace(/\b\w/g,r=>r.toUpperCase())}return(o,r)=>{const c=z("router-link");return l(),i("div",L,[x.value?(l(),i("div",N,[e("div",O,[r[0]||(r[0]=e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"},null,-1)),e("p",R,t(n(a)("environmental.detail.loading")),1)])])):u.value?(l(),i("div",U,[e("div",W,[e("h2",T,t(n(a)("environmental.detail.error.title")),1),e("p",$,t(u.value),1),f(c,{to:"/environmental-projects",class:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors"},{default:y(()=>[p(t(n(a)("environmental.detail.error.back")),1)]),_:1})])])):s.value?(l(),i("div",D,[e("section",H,[e("div",q,[e("img",{src:h.value,alt:s.value.title||"Environmental Project",class:"w-full h-full object-cover"},null,8,J),r[1]||(r[1]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-green-900/85 via-green-800/80 to-emerald-900/85"},null,-1))]),e("div",G,[e("nav",K,[e("div",Q,[f(c,{to:"/",class:"text-green-200 hover:text-white transition-colors"},{default:y(()=>[p(t(n(a)("environmental.breadcrumb.home")),1)]),_:1}),r[2]||(r[2]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),f(c,{to:"/environmental-projects",class:"text-green-200 hover:text-white transition-colors"},{default:y(()=>[p(t(n(a)("environmental.title")),1)]),_:1}),r[3]||(r[3]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",X,t(s.value.title),1)])]),e("div",Y,[s.value.project_type?(l(),i("div",Z,[r[4]||(r[4]=e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 4a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1V8zm8 0a1 1 0 011-1h4a1 1 0 011 1v2a1 1 0 01-1 1h-4a1 1 0 01-1-1V8z"})],-1)),p(" "+t(j(s.value.project_type)),1)])):S("",!0),e("h1",ee,t(s.value.title),1),e("p",te,t(s.value.description||n(a)("environmental.detail.no_description")),1),e("div",se,[e("div",oe,[e("div",ae,t(s.value.funding_source||n(a)("environmental.meta.na")),1),e("div",ne,t(n(a)("environmental.detail.funding_source")),1)]),e("div",re,[e("div",ie,t(s.value.impact_metrics&&s.value.impact_metrics.length?s.value.impact_metrics.length:0),1),e("div",le,t(n(a)("environmental.detail.impact_metrics")),1)])])])])]),e("section",ce,[e("div",de,[e("div",me,[e("div",ue,[e("div",_e,[e("h2",ve,t(n(a)("environmental.detail.overview")),1),e("div",pe,[e("p",ge,t(s.value.description||n(a)("environmental.detail.no_description")),1)])]),e("div",xe,[e("h2",he,t(n(a)("environmental.detail.impact_metrics")),1),s.value.impact_metrics&&s.value.impact_metrics.length?(l(),i("div",fe,[(l(!0),i(M,null,F(s.value.impact_metrics,m=>(l(),i("span",{key:m,class:"px-4 py-2 bg-emerald-100 text-emerald-800 text-sm font-medium rounded-full"},t(E(m)),1))),128))])):(l(),i("div",ye,t(n(a)("environmental.detail.no_metrics")),1))])]),e("div",be,[e("div",we,[e("h3",je,t(n(a)("environmental.detail.quick_info")),1),e("div",ke,[e("div",Ce,[e("span",Se,t(n(a)("environmental.detail.project_type")),1),e("span",Be,t(s.value.project_type?j(s.value.project_type):n(a)("environmental.meta.not_specified")),1)]),e("div",Ee,[e("span",Pe,t(n(a)("environmental.detail.status")),1),e("span",Ve,t(s.value.status||n(a)("environmental.meta.unknown")),1)]),e("div",Ae,[e("span",Ie,t(n(a)("environmental.detail.funding")),1),e("span",ze,t(s.value.funding_source||n(a)("environmental.meta.not_specified")),1)])])])])])])])])):S("",!0)])}}};export{Oe as default};
