import{r as v,u as T,c as g,k as D,o as E,l as J,a as d,b as e,h as H,e as M,w as B,d as k,t as o,m as i,f as $,p as C,y as V,F as y,i as _,v as q,g as S,j as c}from"./app-CALdtfpY.js";/* empty css            */const R={class:"min-h-screen bg-gray-50"},W={class:"relative overflow-hidden"},G={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-32"},K={class:"mb-8"},Q={class:"flex items-center space-x-2 text-sm"},X={class:"text-white font-medium"},Y={class:"text-center max-w-4xl mx-auto"},Z={class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-green-500/20 text-green-100 border border-green-400/30 mb-6"},ee={class:"text-white"},te={class:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight"},se={class:"text-xl text-white mb-8 leading-relaxed max-w-3xl mx-auto"},oe={class:"flex flex-wrap justify-center gap-6 mb-8"},le={class:"text-center"},re={class:"text-3xl font-bold text-white"},ne={class:"text-green-200 text-sm"},ie={class:"text-center"},ae={class:"text-3xl font-bold text-white"},de={class:"text-green-200 text-sm"},ce={class:"text-center"},ue={class:"text-3xl font-bold text-white"},pe={class:"text-green-200 text-sm"},me={class:"flex flex-col items-center"},ge={class:"text-green-200 text-sm mb-2"},ve={class:"py-8 bg-gray-50 border-b border-gray-100"},ye={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_e={class:"flex items-center justify-between mb-6"},xe={class:"text-2xl font-bold text-gray-900"},he={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},fe={class:"relative"},be={class:"block text-sm font-medium text-gray-700 mb-2"},we={value:""},ke=["value"],Ce={class:"relative"},Se={class:"block text-sm font-medium text-gray-700 mb-2"},je={value:""},Ae=["value"],Le={class:"relative"},Me={class:"block text-sm font-medium text-gray-700 mb-2"},Be={class:"relative"},Ve=["placeholder"],Ne={class:"py-12 bg-gray-50"},ze={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Fe={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ie={key:1},Ue={key:0,class:"text-center py-12"},Oe={class:"text-xl font-semibold text-gray-900 mb-2"},Pe={class:"text-gray-600 mb-6"},Te={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},De={class:"aspect-[16/9] bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg mb-4 flex items-center justify-center"},Ee={key:0,class:"w-full h-full"},Je=["src","alt"],He={key:1,class:"text-center"},$e={class:"text-green-600 font-medium"},qe={class:"mb-4 flex-grow"},Re={class:"text-lg font-semibold text-gray-900 mb-2"},We={class:"text-gray-600 text-sm line-clamp-2"},Ge={class:"flex flex-wrap gap-2 mb-4"},Ke={key:0,class:"px-2 py-1 bg-brand-cream text-brand-primary text-xs font-medium rounded-full"},Qe={key:1,class:"px-2 py-1 bg-brand-cream text-brand-primary text-xs font-medium rounded-full"},Xe={key:2,class:"px-2 py-1 bg-brand-cream text-brand-primary text-xs font-medium rounded-full"},Ye={class:"mt-4"},ot={__name:"SeedSupply",setup(Ze){const x=v(!0),p=v([]),j=v(0),{currentLanguage:N,onLanguageChange:z,t:l}=T();let h=null;const u=v({type:"",crops:"",search:""}),F=g(()=>p.value.length),I=g(()=>{const r=p.value.map(s=>s.input_type).filter(Boolean);return new Set(r).size}),U=g(()=>{const s=p.value.map(a=>a.distribution_centers).filter(Boolean).flatMap(a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a.split(",").map(t=>t.trim())}return Array.isArray(a)?a:[]});return new Set(s).size}),O=g(()=>{const r=p.value.map(s=>s.input_type).filter(Boolean);return[...new Set(r)]}),P=g(()=>{const s=p.value.map(a=>a.target_crops).filter(Boolean).flatMap(a=>{if(typeof a=="string")try{return JSON.parse(a)}catch{return a.split(",").map(t=>t.trim())}return Array.isArray(a)?a:[]});return[...new Set(s)]});D(u,()=>{f()},{deep:!0}),E(()=>{f(),h=z(()=>f())}),J(()=>{typeof h=="function"&&h()});async function f(){x.value=!0;try{const r=new URLSearchParams;u.value.type&&r.set("input_type",u.value.type),u.value.crops&&r.set("target_crops",u.value.crops),u.value.search&&r.set("search",u.value.search);const s=localStorage.getItem("preferred_language")||N?.value||"en";r.set("lang",s);const a=await fetch(`/api/seed-supply-programs?${r.toString()}`);if(!a.ok)throw new Error("Failed to load programs");const t=await a.json();let w=(Array.isArray(t?.data)?t.data:Array.isArray(t)?t:[]).map(n=>({id:n.id,name:n.name||n.title||"Seed Supply Program",description:n.description||n.short_description||"",short_description:n.short_description||n.description||"",input_type:n.input_type||n.type,target_crops:n.target_crops,availability:n.availability||"Available",distribution_centers:n.distribution_centers,cover_image:n.cover_image||n.thumbnail_image||n.image,status:n.status||"published",slug:n.slug}));if(u.value.search){const n=u.value.search.toLowerCase();w=w.filter(m=>m.name.toLowerCase().includes(n)||m.description.toLowerCase().includes(n)||m.short_description.toLowerCase().includes(n)||m.input_type&&m.input_type.toLowerCase().includes(n))}p.value=w,j.value=p.value.length}catch{p.value=[],j.value=0}finally{x.value=!1}}function A(){u.value={type:"",crops:"",search:""}}function b(r){return String(r).replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())}function L(r){if(!r)return l("seedsupply.meta.various");if(typeof r=="string")try{const s=JSON.parse(r);return Array.isArray(s)?s.slice(0,2).join(", "):r}catch{return r.split(",").slice(0,2).join(", ")}return Array.isArray(r)?r.slice(0,2).join(", "):l("seedsupply.meta.various")}return(r,s)=>{const a=$("router-link");return c(),d("div",R,[e("section",W,[s[5]||(s[5]=H('<div class="absolute inset-0"><img src="/images/ourWork/ourworkhero.avif" alt="Seed &amp; Input Supply Chain" class="w-full h-full object-cover"><div class="absolute inset-0 bg-gradient-to-br from-green-900/85 via-green-800/80 to-emerald-900/85"></div></div><div class="absolute top-20 right-20 w-32 h-32 bg-white/10 rounded-full blur-xl"></div><div class="absolute bottom-20 left-20 w-24 h-24 bg-green-400/20 rounded-full blur-lg"></div><div class="absolute top-1/2 left-1/4 w-16 h-16 bg-green-400/15 rounded-full blur-md"></div>',4)),e("div",G,[e("nav",K,[e("div",Q,[M(a,{to:"/",class:"text-green-200 hover:text-white transition-colors"},{default:B(()=>[k(o(i(l)("seedsupply.breadcrumb.home")),1)]),_:1}),s[3]||(s[3]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",X,o(i(l)("seedsupply.title")),1)])]),e("div",Y,[e("div",Z,[e("span",ee,o(i(l)("seedsupply.badge")),1)]),e("h1",te,o(i(l)("seedsupply.title")),1),e("p",se,o(i(l)("seedsupply.subtitle")),1),e("div",oe,[e("div",le,[e("div",re,o(F.value),1),e("div",ne,o(i(l)("seedsupply.stats.supply_programs")),1)]),e("div",ie,[e("div",ae,o(I.value),1),e("div",de,o(i(l)("seedsupply.stats.input_types")),1)]),e("div",ce,[e("div",ue,o(U.value),1),e("div",pe,o(i(l)("seedsupply.stats.distribution_centers")),1)])]),e("div",me,[e("span",ge,o(i(l)("seedsupply.scroll")),1),s[4]||(s[4]=e("svg",{class:"w-6 h-6 text-green-300 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1))])])])]),e("section",ve,[e("div",ye,[e("div",_e,[e("h2",xe,o(i(l)("seedsupply.filters.title")),1),e("button",{onClick:A,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},[s[6]||(s[6]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),k(" "+o(i(l)("seedsupply.filters.reset")),1)])]),e("div",he,[e("div",fe,[e("label",be,o(i(l)("seedsupply.filters.input_type")),1),C(e("select",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value.type=t),class:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},[e("option",we,o(i(l)("seedsupply.filters.input_type_all")),1),(c(!0),d(y,null,_(O.value,t=>(c(),d("option",{key:t,value:t},o(b(t)),9,ke))),128))],512),[[V,u.value.type]])]),e("div",Ce,[e("label",Se,o(i(l)("seedsupply.filters.crops")),1),C(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>u.value.crops=t),class:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},[e("option",je,o(i(l)("seedsupply.filters.crops_all")),1),(c(!0),d(y,null,_(P.value,t=>(c(),d("option",{key:t,value:t},o(L(t)),9,Ae))),128))],512),[[V,u.value.crops]])]),e("div",Le,[e("label",Me,o(i(l)("seedsupply.filters.search")),1),e("div",Be,[C(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>u.value.search=t),type:"text",placeholder:i(l)("seedsupply.filters.search_placeholder"),class:"w-full border border-gray-300 rounded-lg px-4 py-3 pl-10 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},null,8,Ve),[[q,u.value.search]]),s[7]||(s[7]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])])])])]),e("section",Ne,[e("div",ze,[x.value?(c(),d("div",Fe,[(c(),d(y,null,_(6,t=>e("div",{key:"sk-"+t,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 animate-pulse"},[...s[8]||(s[8]=[e("div",{class:"aspect-[16/9] bg-gray-200 rounded-lg mb-4"},null,-1),e("div",{class:"h-6 bg-gray-200 w-3/4 mb-2"},null,-1),e("div",{class:"h-4 bg-gray-100 w-1/2 mb-4"},null,-1),e("div",{class:"h-4 bg-gray-100 w-full"},null,-1)])])),64))])):(c(),d("div",Ie,[p.value.length===0?(c(),d("div",Ue,[s[9]||(s[9]=e("div",{class:"w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})])],-1)),e("h3",Oe,o(i(l)("seedsupply.empty.title")),1),e("p",Pe,o(i(l)("seedsupply.empty.body")),1),e("button",{onClick:A,class:"inline-flex items-center px-6 py-3 bg-orange-600 text-white font-semibold rounded-lg hover:bg-orange-700 transition-colors"},o(i(l)("seedsupply.empty.clear")),1)])):(c(),d("div",Te,[(c(!0),d(y,null,_(p.value,t=>(c(),d("div",{key:t.id,class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 hover:shadow-lg transition-shadow flex flex-col"},[e("div",De,[t.cover_image?(c(),d("div",Ee,[e("img",{src:t.cover_image,alt:t.name,class:"w-full h-full object-cover rounded-lg"},null,8,Je)])):(c(),d("div",He,[s[10]||(s[10]=e("svg",{class:"w-16 h-16 text-green-400 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),e("p",$e,o(t.input_type?b(t.input_type):i(l)("seedsupply.meta.supply_program")),1)]))]),e("div",qe,[e("h3",Re,o(t.name),1),e("p",We,o(t.short_description||t.description),1)]),e("div",Ge,[t.input_type?(c(),d("span",Ke,o(b(t.input_type)),1)):S("",!0),t.target_crops?(c(),d("span",Qe,o(L(t.target_crops)),1)):S("",!0),t.availability?(c(),d("span",Xe,o(t.availability),1)):S("",!0)]),e("div",Ye,[M(a,{to:`/seed-supply/${t.slug||t.id}`,class:"w-full bg-brand-primary text-white font-semibold py-3 px-4 rounded-lg hover:bg-brand-secondary transition-all duration-200 text-sm text-center shadow-sm hover:shadow-md block"},{default:B(()=>[s[11]||(s[11]=e("svg",{class:"w-4 h-4 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),k(" "+o(i(l)("common.view_details")),1)]),_:1},8,["to"])])]))),128))]))]))])])])}}};export{ot as default};
