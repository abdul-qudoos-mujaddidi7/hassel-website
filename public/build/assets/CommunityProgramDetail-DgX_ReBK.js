import{r as h,u as V,o as I,l as N,k as O,B as U,a as i,g as p,b as e,t as s,m as n,e as x,w as v,d as u,f as E,F,i as H,j as l}from"./app-B8RPcBnI.js";/* empty css            */const R={class:"min-h-screen bg-gray-50"},T={key:0,class:"min-h-screen flex items-center justify-center"},W={class:"text-center"},$={class:"text-gray-600"},D={key:1,class:"min-h-screen flex items-center justify-center"},J={class:"text-center max-w-md mx-auto px-4"},q={class:"text-2xl font-bold text-gray-900 mb-2"},G={class:"text-gray-600 mb-6"},K={key:2},Q={class:"relative overflow-hidden"},X={class:"absolute inset-0"},Y=["src","alt"],Z={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-32"},ee={class:"mb-8"},te={class:"flex items-center space-x-2 text-sm"},oe={class:"text-white font-medium"},se={class:"text-center max-w-4xl mx-auto"},re={key:0,class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-green-500/20 text-green-100 border border-green-400/30 mb-6"},ae={class:"text-3xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight"},ne={class:"text-xl text-white mb-8 leading-relaxed max-w-3xl mx-auto"},ie={class:"flex flex-wrap justify-center gap-6 mb-8"},le={class:"text-center"},de={class:"text-2xl font-bold text-white"},ce={class:"text-green-200 text-sm"},me={class:"text-center"},ue={class:"text-2xl font-bold text-white"},ge={class:"text-green-200 text-sm"},_e={class:"py-12 sm:py-16"},he={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},pe={class:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8"},xe={class:"lg:col-span-2 space-y-6 sm:space-y-8"},ve={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 md:p-8"},ye={class:"text-2xl font-bold text-gray-900 mb-6"},fe={class:"prose max-w-none"},be={class:"text-gray-600 leading-relaxed"},we={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 md:p-8"},ke={class:"text-2xl font-bold text-gray-900 mb-6"},Ce={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},je={class:"text-gray-900 font-medium"},ze={key:1,class:"p-6 bg-gray-50 border border-gray-200 rounded-xl text-center text-gray-600"},Me={class:"space-y-4 sm:space-y-6"},Be={class:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6"},Se={class:"text-lg font-bold text-gray-900 mb-4"},Le={class:"space-y-4"},Pe={key:0,class:"flex items-center justify-between"},Ae={class:"text-gray-600"},Ve={class:"px-3 py-1 bg-green-100 text-green-800 text-sm font-medium rounded-full"},Ie={key:1,class:"flex items-center justify-between"},Ne={class:"text-gray-600"},Oe={class:"text-gray-900 font-medium"},Ue={class:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl border border-green-200 p-6"},Ee={class:"text-lg font-bold text-gray-900 mb-4"},Fe={class:"text-gray-600 mb-4"},$e={__name:"CommunityProgramDetail",setup(He){const y=U(),f=h(!0),g=h(null),r=h(null),b=h("/images/ourWork/ourworkhero.avif"),{currentLanguage:L,onLanguageChange:P,t:a}=V();let w=null;I(async()=>{await k(),w=P(()=>k())}),N(()=>{typeof w=="function"&&w()}),O(()=>y.params.idOrSlug,()=>{y.params.idOrSlug&&(k(),window.scrollTo({top:0,behavior:"smooth"}))});async function k(){f.value=!0,g.value=null;try{const t=y.params.idOrSlug,o=localStorage.getItem("preferred_language")||L?.value||"en";let d=await fetch(`/api/community-programs/${t}?lang=${encodeURIComponent(o)}`);if(d.ok){const c=await d.json(),S=c?.data||c?.program||c;if(!S)throw new Error("Invalid program data received");r.value=C(S),b.value=r.value.cover_image||"/images/ourWork/ourworkhero.avif";return}const m=await fetch(`/api/community-programs?lang=${encodeURIComponent(o)}`);if(!m.ok)throw new Error("Failed to load programs");const _=await m.json(),B=(Array.isArray(_?.data)?_.data:Array.isArray(_)?_:[]).find(c=>c.slug===t||String(c.id)===String(t));if(!B)throw new Error("Program not found");r.value=C(B),b.value=r.value.cover_image||"/images/ourWork/ourworkhero.avif"}catch(t){g.value=t.message||"Failed to load program"}finally{f.value=!1}}function C(t){return{id:t.id,title:t.title||t.name||"Community Program",description:t.description||"",short_description:t.short_description||t.description||"",program_type:t.program_type,target_group:t.target_group,partner_organizations:t.partner_organizations,location:t.location,cover_image:t.cover_image||t.featured_image||t.thumbnail_image||"/images/ourWork/ourworkhero.avif",status:t.status||"published",slug:t.slug}}function j(t){return String(t).replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())}function A(t){return String(t).replace(/_/g," ").replace(/\b\w/g,o=>o.toUpperCase())}function z(t){if(!t)return[];if(Array.isArray(t))return t;if(typeof t=="string")try{const o=JSON.parse(t);return Array.isArray(o)?o:[t]}catch{return t.split(",").map(o=>o.trim())}return[]}function M(t){return z(t).length}return(t,o)=>{const d=E("router-link");return l(),i("div",R,[f.value?(l(),i("div",T,[e("div",W,[o[0]||(o[0]=e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"},null,-1)),e("p",$,s(n(a)("community.detail.loading")),1)])])):g.value?(l(),i("div",D,[e("div",J,[o[2]||(o[2]=e("div",{class:"w-24 h-24 mx-auto mb-6 bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("h2",q,s(n(a)("community.detail.error.title")),1),e("p",G,s(g.value),1),x(d,{to:"/community-programs",class:"inline-flex items-center px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 transition-colors"},{default:v(()=>[o[1]||(o[1]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),u(" "+s(n(a)("community.detail.error.back")),1)]),_:1})])])):r.value?(l(),i("div",K,[e("section",Q,[e("div",X,[e("img",{src:b.value,alt:r.value.title||"Community Program",class:"w-full h-full object-cover"},null,8,Y),o[3]||(o[3]=e("div",{class:"absolute inset-0 bg-gradient-to-br from-green-900/85 via-green-800/80 to-emerald-900/85"},null,-1))]),e("div",Z,[e("nav",ee,[e("div",te,[x(d,{to:"/",class:"text-green-200 hover:text-white transition-colors"},{default:v(()=>[u(s(n(a)("community.breadcrumb.home")),1)]),_:1}),o[4]||(o[4]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),x(d,{to:"/community-programs",class:"text-green-200 hover:text-white transition-colors"},{default:v(()=>[u(s(n(a)("community.title")),1)]),_:1}),o[5]||(o[5]=e("svg",{class:"w-4 h-4 text-green-300",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e("span",oe,s(r.value.title),1)])]),e("div",se,[r.value.program_type?(l(),i("div",re,[o[6]||(o[6]=e("svg",{class:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm0 4a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1V8zm8 0a1 1 0 011-1h4a1 1 0 011 1v2a1 1 0 01-1 1h-4a1 1 0 01-1-1V8z"})],-1)),u(" "+s(j(r.value.program_type)),1)])):p("",!0),e("h1",ae,s(r.value.title),1),e("p",ne,s(r.value.short_description||r.value.description),1),e("div",ie,[e("div",le,[e("div",de,s(r.value.target_group?A(r.value.target_group):n(a)("community.meta.general_community")),1),e("div",ce,s(n(a)("community.detail.target_group")),1)]),e("div",me,[e("div",ue,s(M(r.value.partner_organizations)),1),e("div",ge,s(n(a)("community.detail.partners")),1)])])])])]),e("section",_e,[e("div",he,[e("div",pe,[e("div",xe,[e("div",ve,[e("h2",ye,s(n(a)("community.detail.overview")),1),e("div",fe,[e("p",be,s(r.value.description||n(a)("community.detail.no_description")),1)])]),e("div",we,[e("h2",ke,s(n(a)("community.detail.partner_organizations")),1),M(r.value.partner_organizations)>0?(l(),i("div",Ce,[(l(!0),i(F,null,H(z(r.value.partner_organizations),m=>(l(),i("div",{key:m,class:"flex items-center p-4 bg-green-50 rounded-lg border border-green-100"},[o[7]||(o[7]=e("svg",{class:"w-8 h-8 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})],-1)),e("span",je,s(m),1)]))),128))])):(l(),i("div",ze,s(n(a)("community.detail.no_partners")),1))])]),e("div",Me,[e("div",Be,[e("h3",Se,s(n(a)("community.detail.quick_info")),1),e("div",Le,[r.value.program_type?(l(),i("div",Pe,[e("span",Ae,s(n(a)("community.detail.program_type")),1),e("span",Ve,s(j(r.value.program_type)),1)])):p("",!0),r.value.location?(l(),i("div",Ie,[e("span",Ne,s(n(a)("community.detail.location")),1),e("span",Oe,s(r.value.location),1)])):p("",!0)])]),e("div",Ue,[e("h3",Ee,s(n(a)("community.detail.need_info")),1),e("p",Fe,s(n(a)("community.detail.need_info_sub")),1),x(d,{to:"/contact",class:"w-full bg-brand-primary text-white font-semibold py-3 px-4 rounded-xl hover:bg-brand-secondary transition-all duration-200 shadow-sm hover:shadow-md transform hover:-translate-y-0.5 text-center block"},{default:v(()=>[o[8]||(o[8]=e("svg",{class:"w-5 h-5 inline mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)),u(" "+s(n(a)("community.detail.contact_us")),1)]),_:1})])])])])])])):p("",!0)])}}};export{$e as default};
