import{al as ne,i as E,N as W,r as h,G as ue,q as re,c as A,y as te,h as _,z as Q,j as S,w as i,g as a,d as n,u as V,t as T,B as le,D as oe,b as H,f as M,l as P,o as de,a0 as ge,F as pe}from"./_plugin-vue_export-helper-BPPfTR4S.js";import{H as ce}from"./Header-CgJPtGh2.js";import{l as U,u as se,a as me}from"./admin-BgzI1_lQ.js";import{T as O,a as ve}from"./TranslationField-oLOc6KoU.js";/* empty css                                                               *//* empty css              */let ie=ne("TrainingProgramsRepository",{state(){return{isEditMode:h(!1),router:ue(),search:h(""),loadingTable:h(!0),loading:h(!0),totalItems:h(0),selectedItems:h([]),itemsPerPage:h(5),createDialog:h(!1),trainingPrograms:W([]),trainingProgramsSearch:h(""),currentTrainingProgram:W({}),statusOptions:W([{value:"draft",label:"Draft"},{value:"published",label:"Published"},{value:"ongoing",label:"Ongoing"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}]),programTypeOptions:W([{value:"workshop",label:"Workshop"},{value:"seminar",label:"Seminar"},{value:"course",label:"Course"},{value:"training",label:"Training"},{value:"certification",label:"Certification"}])}},actions:{setEditMode(p){this.isEditMode=p},getTodaysDate(){const p=new Date,l=p.getFullYear(),r=String(p.getMonth()+1).padStart(2,"0"),s=String(p.getDate()).padStart(2,"0");return`${l}-${r}-${s}`},async fetchTrainingPrograms({page:p=1,itemsPerPage:l=5,status:r=""}){this.loading=!0;try{const s=new URLSearchParams({page:p,perPage:l,search:this.trainingProgramsSearch});r&&s.append("status",r);const I=await E.get(`training-programs?${s}`);console.log("API Response:",I.data),I.data.success?(this.trainingPrograms=I.data.data||[],this.totalItems=I.data.meta?.total||0):(this.trainingPrograms=[],this.totalItems=0,U.error(I.data.message||"Failed to fetch data",{position:"top-right",autoClose:3e3})),this.loading=!1}catch(s){console.error("API Error:",s),console.error("Error Response:",s.response?.data),this.trainingPrograms=[],this.totalItems=0,this.loading=!1;const I=s.response?.data?.message||"Failed to fetch training programs";U.error(I,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},async fetchTrainingProgram(p){this.loading=!0;try{const l=await E.get(`training-programs/${p}`,{params:{include_translations:1}});this.currentTrainingProgram=l.data.data,this.loading=!1}catch(l){console.error(l),this.loading=!1,U.error("Failed to fetch training program",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},async createTrainingProgram(p){try{const l=await E.post("training-programs",p);this.createDialog=!1,U.success("Training program created successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.fetchTrainingPrograms({page:1,itemsPerPage:this.itemsPerPage})}catch(l){console.error(l);const r=l.response?.data?.message||"Failed to create training program. Please try again.";U.error(r,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},async updateTrainingProgram(p,l){try{const r=await E.post(`training-programs/${p}`,l,{headers:{_method:"PUT"}});return this.createDialog=!1,this.isEditMode=!1,U.success("Training program updated successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.fetchTrainingPrograms({page:1,itemsPerPage:this.itemsPerPage}),r}catch(r){console.error(r);const s=r.response?.data?.message||"Failed to update training program. Please try again.";throw U.error(s,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),r}},async deleteTrainingProgram(p){try{await E.delete(`training-programs/${p}`),U.success("Training program deleted successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.fetchTrainingPrograms({page:1,itemsPerPage:this.itemsPerPage})}catch(l){console.error(l);const r=l.response?.data?.message||"Failed to delete training program. Please try again.";U.error(r,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},async bulkDeleteTrainingPrograms(p){try{const l=p.map(r=>E.delete(`training-programs/${r}`));await Promise.all(l),U.success(`${p.length} training programs deleted successfully!`,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.fetchTrainingPrograms({page:1,itemsPerPage:this.itemsPerPage})}catch(l){console.error(l),U.error("Failed to delete selected training programs. Please try again.",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},async toggleStatus(p){try{const l=await E.post(`training-programs/${p}/toggle-status`);U.success("Training program status updated successfully!",{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),this.fetchTrainingPrograms({page:1,itemsPerPage:this.itemsPerPage})}catch(l){console.error(l);const r=l.response?.data?.message||"Failed to update training program status. Please try again.";U.error(r,{position:"top-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}},async getPublishedTrainingPrograms({page:p=1,itemsPerPage:l=10}){try{const r=new URLSearchParams({page:p,perPage:l,search:this.trainingProgramsSearch});return(await E.get(`training-programs/published?${r}`)).data}catch(r){return console.error(r),{success:!1,data:[],meta:{total:0}}}},getStatusLabel(p){const l=this.statusOptions.find(r=>r.value===p);return l?l.label:p},formatDate(p){return p?new Date(p).toLocaleDateString():""},resetCurrentTrainingProgram(){this.currentTrainingProgram={id:null,title:"",slug:"",description:"",cover_image:"",thumbnail_image:"",program_type:"workshop",duration:"",location:"",instructor:"",max_participants:null,start_date:null,end_date:null,status:"draft"}}}});const _e={class:"flex w-100"},he={class:"flex w-100"},fe={class:"flex w-100"},be={class:"flex w-100"},ye={class:"flex w-100"},Pe={class:"flex w-100 image-upload-row mb-4"},Ve={class:"w-50 image-upload-wrapper"},Ce={class:"image-upload-label mb-3 d-block"},$e={class:"photo-upload-container"},ke=["src"],Te={class:"photo-overlay"},Ue={class:"w-50 image-upload-wrapper"},Ie={class:"image-upload-label mb-3 d-block"},we={class:"photo-upload-container"},Se=["src"],Oe={class:"photo-overlay"},Me={class:"w-100"},Be={__name:"CreateTrainingProgramTranslatable",setup(p){const{t:l}=se(),r=ie(),s=A(()=>r.isEditMode?l("update"):l("create")),I=A(()=>r.isEditMode?l("update"):l("submit")),x=h(!1),G=["title","description","program_type","location","instructor"],o=W({id:null,title:"",slug:"",description:"",cover_image:"",thumbnail_image:"",program_type:"workshop",duration:"",location:"",instructor:"",max_participants:null,start_date:null,end_date:null,status:"draft"}),$=h(null),b=h(null),D=h(null),J=h(null),k=h(null),w=h(null),F=h(null),Y=h(null),R=A(()=>b.value||o.cover_image||null),z=A(()=>w.value||o.thumbnail_image||null);te($,e=>{if(e&&e instanceof File){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(e.type)){alert(l("please_select_image")||"Please select a valid image file"),$.value=null,b.value=null;return}if(e.size>3*1024*1024){alert(l("image_too_large")||"Image size must be less than 3MB"),$.value=null,b.value=null;return}o.cover_image="";const g=new FileReader;g.onload=C=>{b.value=C.target.result},g.onerror=()=>{console.error("Error reading file"),b.value=null},g.readAsDataURL(e)}else e||o.cover_image||(b.value=null)}),te(k,e=>{if(e&&e instanceof File){if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(e.type)){alert(l("please_select_image")||"Please select a valid image file"),k.value=null,w.value=null;return}if(e.size>3*1024*1024){alert(l("image_too_large")||"Image size must be less than 3MB"),k.value=null,w.value=null;return}o.thumbnail_image="";const g=new FileReader;g.onload=C=>{w.value=C.target.result},g.onerror=()=>{console.error("Error reading file"),w.value=null},g.readAsDataURL(e)}else e||o.thumbnail_image||(w.value=null)}),te(()=>r.currentTrainingProgram,e=>{e&&Object.keys(e).length>0&&(o.id=e.id,o.title=e.title||"",o.slug=e.slug||"",o.description=e.description||"",o.cover_image=e.cover_image||"",o.thumbnail_image=e.thumbnail_image||"",o.program_type=e.program_type||"workshop",o.duration=e.duration||"",o.location=e.location||"",o.instructor=e.instructor||"",o.max_participants=e.max_participants||null,o.start_date=e.start_date?new Date(e.start_date).toISOString().slice(0,10):null,o.end_date=e.end_date?new Date(e.end_date).toISOString().slice(0,10):null,o.status=e.status||"draft",$.value=null,b.value=o.cover_image||null,J.value=o.cover_image||null,k.value=null,w.value=o.thumbnail_image||null,Y.value=o.thumbnail_image||null,o.translationData={...e,farsi_translations:e.farsi_translations||{},pashto_translations:e.pashto_translations||{}})},{deep:!0,immediate:!0});const m={required:e=>!!e||l("field_required")},f=()=>{o.title&&!o.slug&&(o.slug=o.title.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"))},L=()=>{D.value?.click()},X=e=>{e&&e.target&&e.target.files&&e.target.files.length>0&&($.value=e.target.files[0])},q=()=>{$.value=null,b.value=null,o.cover_image="",D.value&&(D.value.value="")},j=()=>{F.value?.click()},Z=e=>{e&&e.target&&e.target.files&&e.target.files.length>0&&(k.value=e.target.files[0])},ee=()=>{k.value=null,w.value=null,o.thumbnail_image="",F.value&&(F.value.value="")},K=async({data:e})=>{x.value=!0;try{const u=new FormData;if(Object.keys(e).forEach(g=>{g!=="cover_image"&&g!=="thumbnail_image"&&(g==="translations"?u.append(g,JSON.stringify(e[g])):e[g]!==null&&e[g]!==void 0&&u.append(g,e[g]))}),$.value?u.append("cover_image",$.value):r.isEditMode&&!b.value&&!$.value&&J.value?u.append("cover_image",""):o.cover_image&&!o.cover_image.startsWith("data:")&&!$.value?u.append("cover_image",o.cover_image):r.isEditMode||u.append("cover_image",""),k.value?u.append("thumbnail_image",k.value):r.isEditMode&&!w.value&&!k.value&&Y.value?u.append("thumbnail_image",""):o.thumbnail_image&&!o.thumbnail_image.startsWith("data:")&&!k.value?u.append("thumbnail_image",o.thumbnail_image):r.isEditMode||u.append("thumbnail_image",""),e.start_date&&u.set("start_date",new Date(e.start_date).toISOString().split("T")[0]),e.end_date&&u.set("end_date",new Date(e.end_date).toISOString().split("T")[0]),r.isEditMode){const g=await r.updateTrainingProgram(o.id,u),C=g?.data?.data||g?.data||{};$.value&&C.cover_image&&(o.cover_image=C.cover_image,b.value=C.cover_image,$.value=null),k.value&&C.thumbnail_image&&(o.thumbnail_image=C.thumbnail_image,w.value=C.thumbnail_image,k.value=null)}else await r.createTrainingProgram(u)}finally{x.value=!1}};return(e,u)=>{const g=_("v-text-field"),C=_("v-select"),B=_("v-icon"),ae=_("v-textarea");return S(),Q(ve,{modelValue:V(r).createDialog,"onUpdate:modelValue":u[0]||(u[0]=t=>V(r).createDialog=t),"form-title":s.value,"button-text":I.value,"translatable-fields":G,"form-data":o,rules:m,saving:x.value,"is-edit-mode":V(r).isEditMode,onSave:K},{"base-fields":i(({formData:t,rules:y})=>[n("div",_e,[a(g,{modelValue:t.title,"onUpdate:modelValue":d=>t.title=d,variant:"outlined",label:e.$t("title"),density:"compact",class:"pb-4 pr-2 w-75",rules:[y.required],onInput:f},null,8,["modelValue","onUpdate:modelValue","label","rules"]),a(C,{modelValue:t.status,"onUpdate:modelValue":d=>t.status=d,items:V(r).statusOptions,variant:"outlined",density:"compact","item-value":"value","item-title":"label","return-object":!1,label:e.$t("status"),class:"pb-4 pl-2 w-25",rules:[y.required]},null,8,["modelValue","onUpdate:modelValue","items","label","rules"])]),n("div",he,[a(g,{modelValue:t.slug,"onUpdate:modelValue":d=>t.slug=d,variant:"outlined",label:e.$t("slug"),density:"compact",class:"pb-4 pr-2 w-50",hint:e.$t("hint_url_friendly"),"persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","label","hint"]),a(C,{modelValue:t.program_type,"onUpdate:modelValue":d=>t.program_type=d,items:V(r).programTypeOptions,variant:"outlined",density:"compact","item-value":"value","item-title":"label","return-object":!1,label:e.$t("program_type"),class:"pb-4 pl-2 w-50",rules:[y.required]},null,8,["modelValue","onUpdate:modelValue","items","label","rules"])]),n("div",fe,[a(g,{modelValue:t.duration,"onUpdate:modelValue":d=>t.duration=d,variant:"outlined",label:e.$t("duration"),density:"compact",class:"pb-4 pr-2 w-50",hint:e.$t("hint_duration"),"persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","label","hint"]),a(g,{modelValue:t.max_participants,"onUpdate:modelValue":d=>t.max_participants=d,variant:"outlined",label:e.$t("max_participants"),density:"compact",type:"number",class:"pb-4 pl-2 w-50"},null,8,["modelValue","onUpdate:modelValue","label"])]),n("div",be,[a(g,{modelValue:t.start_date,"onUpdate:modelValue":d=>t.start_date=d,variant:"outlined",label:e.$t("start_date"),density:"compact",type:"date",class:"pb-4 pr-2 w-50"},null,8,["modelValue","onUpdate:modelValue","label"]),a(g,{modelValue:t.end_date,"onUpdate:modelValue":d=>t.end_date=d,variant:"outlined",label:e.$t("end_date"),density:"compact",type:"date",class:"pb-4 pl-2 w-50"},null,8,["modelValue","onUpdate:modelValue","label"])]),n("div",ye,[a(g,{modelValue:t.location,"onUpdate:modelValue":d=>t.location=d,variant:"outlined",label:e.$t("location"),density:"compact",class:"pb-4 pr-2 w-50"},null,8,["modelValue","onUpdate:modelValue","label"]),a(g,{modelValue:t.instructor,"onUpdate:modelValue":d=>t.instructor=d,variant:"outlined",label:e.$t("instructor"),density:"compact",class:"pb-4 pl-2 w-50"},null,8,["modelValue","onUpdate:modelValue","label"])]),n("div",Pe,[n("div",Ve,[n("label",Ce,T(e.$t("cover_image")),1),n("div",$e,[n("input",{ref_key:"coverImageInputRef",ref:D,type:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",style:{display:"none"},onChange:X},null,544),le(n("img",{src:R.value,class:"photo-preview"},null,8,ke),[[oe,R.value!==null]]),n("div",Te,[R.value?M("",!0):(S(),H("button",{key:0,type:"button",onClick:L,class:"overlay-button"},[a(B,{size:"x-large",color:"blue-grey-lighten-2"},{default:i(()=>[...u[1]||(u[1]=[P("mdi-camera",-1)])]),_:1})])),R.value?(S(),H("button",{key:1,type:"button",onClick:q,class:"close-button"},[a(B,{size:"lg",color:"red"},{default:i(()=>[...u[2]||(u[2]=[P("mdi-close",-1)])]),_:1})])):M("",!0),R.value?(S(),H("button",{key:2,type:"button",onClick:L,class:"edit-button"},[a(B,{size:"small"},{default:i(()=>[...u[3]||(u[3]=[P("mdi-pencil",-1)])]),_:1})])):M("",!0)])])]),n("div",Ue,[n("label",Ie,T(e.$t("thumbnail_image")),1),n("div",we,[n("input",{ref_key:"thumbnailImageInputRef",ref:F,type:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",style:{display:"none"},onChange:Z},null,544),le(n("img",{src:z.value,class:"photo-preview"},null,8,Se),[[oe,z.value!==null]]),n("div",Oe,[z.value?M("",!0):(S(),H("button",{key:0,type:"button",onClick:j,class:"overlay-button"},[a(B,{size:"x-large",color:"blue-grey-lighten-2"},{default:i(()=>[...u[4]||(u[4]=[P("mdi-camera",-1)])]),_:1})])),z.value?(S(),H("button",{key:1,type:"button",onClick:ee,class:"close-button"},[a(B,{size:"lg",color:"red"},{default:i(()=>[...u[5]||(u[5]=[P("mdi-close",-1)])]),_:1})])):M("",!0),z.value?(S(),H("button",{key:2,type:"button",onClick:j,class:"edit-button"},[a(B,{size:"small"},{default:i(()=>[...u[6]||(u[6]=[P("mdi-pencil",-1)])]),_:1})])):M("",!0)])])])]),n("div",Me,[a(ae,{modelValue:t.description,"onUpdate:modelValue":d=>t.description=d,variant:"outlined",label:e.$t("description"),density:"compact",class:"pb-4",rules:[y.required],rows:"6",hint:e.$t("hint_training_description"),"persistent-hint":""},null,8,["modelValue","onUpdate:modelValue","label","rules","hint"])])]),"farsi-fields":i(({translations:t,clearTranslation:y,hasTranslation:d})=>[a(O,{modelValue:t.title,"onUpdate:modelValue":v=>t.title=v,"field-name":"title","field-label":e.$t("title"),language:"farsi","language-label":e.$t("dari"),"has-translation":d("title"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.description,"onUpdate:modelValue":v=>t.description=v,"field-name":"description","field-label":e.$t("description"),language:"farsi","language-label":e.$t("dari"),"field-type":"textarea",rows:6,"has-translation":d("description"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.program_type,"onUpdate:modelValue":v=>t.program_type=v,"field-name":"program_type","field-label":e.$t("program_type"),language:"farsi","language-label":e.$t("dari"),"has-translation":d("program_type"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.location,"onUpdate:modelValue":v=>t.location=v,"field-name":"location","field-label":e.$t("location"),language:"farsi","language-label":e.$t("dari"),"has-translation":d("location"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.instructor,"onUpdate:modelValue":v=>t.instructor=v,"field-name":"instructor","field-label":e.$t("instructor"),language:"farsi","language-label":e.$t("dari"),"has-translation":d("instructor"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"])]),"pashto-fields":i(({translations:t,clearTranslation:y,hasTranslation:d})=>[a(O,{modelValue:t.title,"onUpdate:modelValue":v=>t.title=v,"field-name":"title","field-label":e.$t("title"),language:"pashto","language-label":e.$t("pashto"),"has-translation":d("title"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.description,"onUpdate:modelValue":v=>t.description=v,"field-name":"description","field-label":e.$t("description"),language:"pashto","language-label":e.$t("pashto"),"field-type":"textarea",rows:6,"has-translation":d("description"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.program_type,"onUpdate:modelValue":v=>t.program_type=v,"field-name":"program_type","field-label":e.$t("program_type"),language:"pashto","language-label":e.$t("pashto"),"has-translation":d("program_type"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.location,"onUpdate:modelValue":v=>t.location=v,"field-name":"location","field-label":e.$t("location"),language:"pashto","language-label":e.$t("pashto"),"has-translation":d("location"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"]),a(O,{modelValue:t.instructor,"onUpdate:modelValue":v=>t.instructor=v,"field-name":"instructor","field-label":e.$t("instructor"),language:"pashto","language-label":e.$t("pashto"),"has-translation":d("instructor"),onClear:y},null,8,["modelValue","onUpdate:modelValue","field-label","language-label","has-translation","onClear"])]),_:1},8,["modelValue","form-title","button-text","form-data","saving","is-edit-mode"])}}},Ee=re(Be,[["__scopeId","data-v-19eb839e"]]),Re=["dir"],ze={class:"btn-search pt-12 pb-6"},je={class:"text-field w-25"},He={class:"btn flex"},xe={class:"table-section"},De={class:"text-center pa-4"},Fe={class:"py-2 pl-4"},Le={class:"d-flex align-center"},qe={class:"font-weight-medium"},Ne={class:"text-caption text-grey"},Ae={class:"py-2 pl-4"},We={class:"py-2 pl-4"},Ge={class:"py-2 pl-4"},Je={class:"py-2 pl-4"},Ye={__name:"TrainingPrograms",setup(p){const{t:l,locale:r}=se();me();const s=ie(),I=A(()=>["fa","pa"].includes(r.value)?"rtl":"ltr"),x=h("");let G;const o=()=>{clearTimeout(G),G=setTimeout(()=>{s.fetchTrainingPrograms({page:1,itemsPerPage:s.itemsPerPage,status:x.value})},500)},$=m=>{s.fetchTrainingPrograms({page:m.page,itemsPerPage:m.itemsPerPage,status:x.value})},b=h([]),D=()=>{b.value.length>0&&(s.bulkDeleteTrainingPrograms(b.value),b.value=[])},J=()=>{s.resetCurrentTrainingProgram(),s.isEditMode=!1,s.createDialog=!0},k=m=>{s.isEditMode=!0,s.currentTrainingProgram={...m},s.createDialog=!0},w=async m=>{await s.deleteTrainingProgram(m.id)},F=async m=>{await s.toggleStatus(m.id)},Y=m=>{switch(m){case"published":return"success";case"draft":return"warning";case"ongoing":return"info";case"completed":return"primary";case"cancelled":return"error";default:return"primary"}},R=m=>{const f=s.programTypeOptions.find(L=>L.value===m);return f?f.label:m},z=A(()=>[{title:"",key:"checkbox",align:"start",sortable:!1},{title:l("title"),key:"title",align:"start",sortable:!0},{title:l("program_type"),key:"program_type",align:"center",sortable:!0},{title:l("status"),key:"status",align:"center",sortable:!0},{title:l("start_date"),key:"start_date",align:"center",sortable:!0},{title:l("duration"),key:"duration",align:"center",sortable:!0},{title:l("action"),key:"action",align:"center",sortable:!1}]);return de(()=>{s.fetchTrainingPrograms({page:1,itemsPerPage:s.itemsPerPage})}),(m,f)=>{const L=_("v-divider"),X=_("v-text-field"),q=_("v-btn"),j=_("v-icon"),Z=_("v-img"),ee=_("v-avatar"),K=_("v-chip"),e=_("v-checkbox"),u=_("v-list-item-title"),g=_("v-list-item"),C=_("v-list"),B=_("v-menu"),ae=_("v-data-table-server"),t=_("v-col"),y=_("v-row"),d=_("v-main"),v=_("v-app");return S(),H(pe,null,[V(s).createDialog?(S(),Q(Ee,{key:0})):M("",!0),n("div",{dir:I.value},[a(ce,{pageTitle:m.$t("training_programs_management")},null,8,["pageTitle"]),a(L,{thickness:1,class:"border-opacity-100"}),n("div",ze,[n("div",je,[a(X,{color:"primary",density:"compact",variant:"outlined",label:m.$t("search"),"append-inner-icon":"mdi-magnify","hide-details":"",modelValue:V(s).trainingProgramsSearch,"onUpdate:modelValue":f[0]||(f[0]=c=>V(s).trainingProgramsSearch=c),onInput:o},null,8,["label","modelValue"])]),n("div",He,[a(q,{variant:"outlined",color:"primary",class:"px-6"},{default:i(()=>[P(T(V(l)("filter")),1)]),_:1}),f[4]||(f[4]=P(" Â  ",-1)),a(q,{onClick:J,class:"create-btn-gradient px-6",text:m.$t("create")},{default:i(()=>[a(j,null,{default:i(()=>[...f[3]||(f[3]=[P("mdi-plus",-1)])]),_:1})]),_:1},8,["text"])])]),n("div",xe,[a(v,null,{default:i(()=>[a(d,{class:"main"},{default:i(()=>[a(y,null,{default:i(()=>[a(t,null,{default:i(()=>[a(ae,{dir:I.value,theme:"cursor-pointer","items-per-page":V(s).itemsPerPage,"onUpdate:itemsPerPage":f[2]||(f[2]=c=>V(s).itemsPerPage=c),headers:z.value,"items-length":V(s).totalItems,items:V(s).trainingPrograms,loading:V(s).loading,"onUpdate:options":$,hover:"",class:"w-100 mx-auto"},{"no-data":i(()=>[n("div",De,T(m.$t("no_data_available")),1)]),"item.title":i(({item:c})=>[n("td",Fe,[n("div",Le,[c.cover_image?(S(),Q(ee,{key:0,size:"40",class:"mr-3"},{default:i(()=>[a(Z,{src:c.cover_image,alt:c.title},null,8,["src","alt"])]),_:2},1024)):M("",!0),n("div",null,[n("div",qe,T(c.title),1),n("div",Ne,T(c.instructor),1)])])])]),"item.program_type":i(({item:c})=>[n("td",Ae,[a(K,{color:"primary",size:"small",variant:"outlined"},{default:i(()=>[P(T(R(c.program_type)),1)]),_:2},1024)])]),"item.status":i(({item:c})=>[n("td",We,[a(K,{color:Y(c.status),size:"small",variant:"flat"},{default:i(()=>[P(T(V(s).getStatusLabel(c.status)),1)]),_:2},1032,["color"])])]),"item.start_date":i(({item:c})=>[n("td",Ge,[n("span",null,T(V(s).formatDate(c.start_date)),1)])]),"item.duration":i(({item:c})=>[n("td",Je,[n("span",null,T(c.duration||"N/A"),1)])]),"item.checkbox":i(({item:c})=>[a(e,{value:c.id,modelValue:b.value,"onUpdate:modelValue":f[1]||(f[1]=N=>b.value=N),class:"w-6 d-flex"},null,8,["value","modelValue"])]),"item.action":i(({item:c})=>[a(B,null,{activator:i(({props:N})=>[a(q,ge({icon:"mdi-dots-vertical"},N,{variant:"text"}),null,16)]),default:i(()=>[a(C,null,{default:i(()=>[a(g,null,{default:i(()=>[a(u,{onClick:N=>k(c),class:"cursor-pointer d-flex gap-3 justify-left pb-3"},{default:i(()=>[a(j,{color:"tealColor"},{default:i(()=>[...f[5]||(f[5]=[P("mdi-square-edit-outline",-1)])]),_:1}),P(" "+T(m.$t("edit")),1)]),_:1},8,["onClick"]),a(u,{onClick:N=>F(c),class:"cursor-pointer d-flex gap-3 pb-3"},{default:i(()=>[a(j,{color:c.status==="published"?"orange":"green"},{default:i(()=>[P(T(c.status==="published"?"mdi-eye-off":"mdi-eye"),1)]),_:2},1032,["color"]),P(" "+T(c.status==="published"?"Unpublish":"Publish"),1)]),_:2},1032,["onClick"]),a(u,{class:"cursor-pointer d-flex gap-3",onClick:N=>w(c)},{default:i(()=>[a(j,{color:"error"},{default:i(()=>[...f[6]||(f[6]=[P("mdi-delete-outline",-1)])]),_:1}),P(" "+T(m.$t("delete")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["dir","items-per-page","headers","items-length","items","loading"]),b.value.length>0?(S(),Q(q,{key:0,class:"header-button",onClick:D,color:"#B71C1C",flat:"",inset:"",text:`Delete ${b.value.length} selected`},null,8,["text"])):M("",!0)]),_:1})]),_:1})]),_:1})]),_:1})])],8,Re)],64)}}},ta=re(Ye,[["__scopeId","data-v-78e609e2"]]);export{ta as default};
