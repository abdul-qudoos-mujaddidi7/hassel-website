import{_ as H,a as s,j as t,F as p,i as f,h as j,b as e,n as B,z as K,r as b,u as O,c as Q,k as L,o as G,l as J,t as n,m as c,d as V,p as z,y as W,v as X,s as Y,g as k,e as Z,w as ee,f as te,x as C,A as se}from"./app-Bfqn3ssb.js";/* empty css            */const ae={key:0,class:"space-y-6"},oe={key:1,class:"space-y-4"},le={key:2,class:"overflow-hidden"},ne={class:"animate-pulse"},ie={class:"flex space-x-4 p-4 bg-gray-50"},re={class:"space-y-3 p-4"},de={key:3,class:"space-y-3 animate-pulse"},ce={key:4,class:"animate-pulse"},ue={key:5,class:"animate-pulse"},ge={__name:"SkeletonLoader",props:{type:{type:String,default:"default",validator:u=>["card","list","table","text","image","default"].includes(u)},count:{type:Number,default:3},columns:{type:Number,default:4},width:{type:String,default:"100%"},height:{type:String,default:"200px"},containerClass:{type:String,default:""}},setup(u){return(y,g)=>(t(),s("div",{class:B(["skeleton-container",u.containerClass])},[u.type==="card"?(t(),s("div",ae,[(t(!0),s(p,null,f(u.count,l=>(t(),s("div",{key:l,class:"rounded-professional-lg p-6 bg-white shadow-soft animate-pulse"},[...g[0]||(g[0]=[j('<div class="flex items-start gap-4" data-v-3c517dbb><div class="w-16 h-16 bg-gray-200 rounded-lg" data-v-3c517dbb></div><div class="flex-1 space-y-3" data-v-3c517dbb><div class="h-4 bg-gray-200 rounded w-3/4" data-v-3c517dbb></div><div class="h-3 bg-gray-200 rounded w-1/2" data-v-3c517dbb></div><div class="h-3 bg-gray-200 rounded w-5/6" data-v-3c517dbb></div><div class="flex gap-2" data-v-3c517dbb><div class="h-6 bg-gray-200 rounded-full w-16" data-v-3c517dbb></div><div class="h-6 bg-gray-200 rounded-full w-20" data-v-3c517dbb></div></div></div></div>',1)])]))),128))])):u.type==="list"?(t(),s("div",oe,[(t(!0),s(p,null,f(u.count,l=>(t(),s("div",{key:l,class:"flex items-center gap-4 p-4 bg-white rounded-lg shadow-soft animate-pulse"},[...g[1]||(g[1]=[j('<div class="w-12 h-12 bg-gray-200 rounded-full" data-v-3c517dbb></div><div class="flex-1 space-y-2" data-v-3c517dbb><div class="h-4 bg-gray-200 rounded w-1/3" data-v-3c517dbb></div><div class="h-3 bg-gray-200 rounded w-1/2" data-v-3c517dbb></div></div><div class="h-8 bg-gray-200 rounded w-20" data-v-3c517dbb></div>',3)])]))),128))])):u.type==="table"?(t(),s("div",le,[e("div",ne,[e("div",ie,[(t(!0),s(p,null,f(u.columns,l=>(t(),s("div",{key:l,class:"h-4 bg-gray-200 rounded w-1/4"}))),128))]),e("div",re,[(t(!0),s(p,null,f(u.count,l=>(t(),s("div",{key:l,class:"flex space-x-4"},[(t(!0),s(p,null,f(u.columns,h=>(t(),s("div",{key:h,class:"h-4 bg-gray-200 rounded w-1/4"}))),128))]))),128))])])])):u.type==="text"?(t(),s("div",de,[(t(!0),s(p,null,f(u.count,l=>(t(),s("div",{key:l,class:B(["h-4 bg-gray-200 rounded",l===u.count?"w-3/4":"w-full"])},null,2))),128))])):u.type==="image"?(t(),s("div",ce,[e("div",{class:"bg-gray-200 rounded-lg",style:K({width:u.width,height:u.height})},null,4)])):(t(),s("div",ue,[...g[2]||(g[2]=[e("div",{class:"space-y-4"},[e("div",{class:"h-4 bg-gray-200 rounded w-3/4"}),e("div",{class:"h-4 bg-gray-200 rounded w-1/2"}),e("div",{class:"h-4 bg-gray-200 rounded w-5/6"})],-1)])]))],2))}},ve=H(ge,[["__scopeId","data-v-3c517dbb"]]),me={class:"min-h-screen bg-gray-50"},be={class:"relative overflow-hidden"},pe={class:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 sm:py-20 lg:py-32"},fe={class:"text-center max-w-4xl mx-auto"},ye={class:"inline-flex items-center px-4 py-2 rounded-full text-sm font-medium bg-green-500/20 text-green-100 border border-green-400/30 mb-6"},he={class:"text-white"},xe={class:"text-4xl sm:text-5xl md:text-6xl font-bold text-white mb-6 leading-tight"},_e={class:"text-xl text-white mb-8 leading-relaxed max-w-3xl mx-auto"},we={class:"flex flex-col items-center"},ke={class:"text-green-200 text-sm mb-2"},Se={class:"py-8 bg-white border-b border-gray-100"},Ce={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},$e={class:"flex items-center justify-between mb-6"},Me={class:"text-2xl font-bold text-gray-900"},Te={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4"},je={class:"relative"},Ne={class:"block text-sm font-medium text-gray-700 mb-2"},Pe={value:""},Be={value:"published"},Le={value:"ongoing"},Ve={value:"completed"},ze={class:"relative"},Ae={class:"block text-sm font-medium text-gray-700 mb-2"},Ie={class:"relative"},Re=["placeholder"],Fe={class:"flex items-end"},Ue={class:"w-full bg-gray-50 rounded-lg px-4 py-3 text-sm text-gray-600"},De={class:"font-medium"},qe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Ee={key:1},He={key:0,class:"text-center text-gray-600 py-12"},Ke={key:1,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Oe={class:"relative aspect-[16/9] bg-gray-100"},Qe=["src","alt"],Ge={key:1,class:"absolute left-3 top-3 text-xs font-semibold px-2 py-1 rounded bg-green-50 text-green-700"},Je={class:"p-5 flex flex-col flex-1"},We={class:"font-bold text-lg text-gray-900 mb-1 line-clamp-2 min-h-[3.25rem]"},Xe={key:0,class:"text-sm text-gray-600 line-clamp-2 mb-3 min-h-[2.5rem]"},Ye={class:"flex flex-wrap gap-2 text-xs mb-3 min-h-[1.75rem]"},Ze={key:0,class:"px-2 py-1 rounded bg-brand-cream text-brand-primary"},et={key:1,class:"px-2 py-1 rounded bg-brand-cream text-brand-primary"},tt={class:"flex items-center justify-center gap-2 mt-8"},st=["disabled"],at={class:"text-sm text-gray-600"},ot=["disabled"],it={__name:"TrainingPrograms",setup(u){const y=b(!0),g=b([]),l=b(1),h=b(9),N=b(null),{currentLanguage:A,onLanguageChange:I,t:r}=O();let $=null;async function P(){await se();const i=N.value;i&&typeof i.scrollIntoView=="function"?i.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})}const x=b(0),_=b("recent"),v=b({status:"",location:""});function R(){v.value={status:"",location:""}}const M=Q(()=>Math.max(1,Math.ceil(x.value/h.value)));L(v,()=>{l.value=1,S()},{deep:!0}),L(l,()=>{S()}),G(()=>{S(),$=I(()=>{S()})}),J(()=>{typeof $=="function"&&$()});function F(){const i=new URLSearchParams;i.set("page",String(l.value)),i.set("per_page",String(h.value)),_.value==="recent"?(i.set("orderBy","created_at"),i.set("direction","desc")):_.value==="upcoming"?(i.set("orderBy","start_date"),i.set("direction","asc")):_.value==="az"&&(i.set("orderBy","title"),i.set("direction","asc")),v.value.status&&i.set("status",v.value.status),v.value.location&&i.set("location",v.value.location);const o=localStorage.getItem("preferred_language")||A?.value||"en";return i.set("lang",o),i.toString()}async function S(){y.value=!0;try{const i=F(),o=await fetch(`/api/training-programs?${i}`);if(!o.ok)throw new Error("Failed to load");const m=await o.json(),w=(Array.isArray(m?.data)?m.data:Array.isArray(m)?m:[]).map(a=>({id:a.id,slugOrId:a.slug||a.id,title:a.title||a.name||"Training Program",subtitle:a.short_description||a.description||"",status:a.status||a.program_status,location:a.location||a.province||a.region||a.district,dateRange:a.start_date&&a.end_date?`${a.start_date} â€“ ${a.end_date}`:void 0,image:a.thumbnail_image||a.cover_image||a.featured_image||null,created_at:a.created_at||a.start_date,start_date:a.start_date||null}));_.value==="recent"?g.value=w.sort((a,T)=>new Date(T.created_at||0)-new Date(a.created_at||0)):_.value==="az"?g.value=w.sort((a,T)=>String(a.title).localeCompare(String(T.title))):g.value=w,v.value.status&&(g.value=g.value.filter(a=>String(a.status||"").toLowerCase()===String(v.value.status).toLowerCase())),m?.meta?.total?(x.value=Number(m.meta.total)||w.length,h.value=Number(m.meta.per_page)||h.value,l.value=Number(m.meta.current_page)||l.value):x.value=w.length}catch{g.value=[],x.value=0}finally{y.value=!1}}function U(){l.value>1&&(l.value-=1)}function D(){l.value<M.value&&(l.value+=1)}async function q(){U(),await P()}async function E(){D(),await P()}return(i,o)=>{const m=te("router-link");return t(),s("div",me,[e("section",be,[o[7]||(o[7]=j('<div class="absolute inset-0"><img src="/images/programs/Agricultural-Training.jpg" alt="Training Programs" class="h-full w-full object-cover"><div class="absolute inset-0 bg-gradient-to-br from-green-900/85 via-green-800/80 to-emerald-900/85"></div></div><div class="absolute top-20 right-20 w-32 h-32 bg-white/10 rounded-full blur-xl"></div><div class="absolute bottom-20 left-20 w-24 h-24 bg-green-400/20 rounded-full blur-lg"></div><div class="absolute top-1/2 left-1/4 w-16 h-16 bg-yellow-400/15 rounded-full blur-md"></div>',4)),e("div",pe,[e("div",fe,[e("div",ye,[e("span",he,n(c(r)("training.badge")),1)]),e("h1",xe,n(c(r)("training.title")),1),e("p",_e,n(c(r)("training.subtitle")),1),e("div",we,[e("span",ke,n(c(r)("training.scroll")),1),o[6]||(o[6]=e("svg",{class:"w-6 h-6 text-green-300 animate-bounce",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})],-1))])])])]),e("section",Se,[e("div",Ce,[e("div",$e,[e("h2",Me,n(c(r)("training.filters.title")),1),e("button",{onClick:R,class:"inline-flex items-center px-4 py-2 text-sm font-medium text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors"},[o[8]||(o[8]=e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),V(" "+n(c(r)("training.filters.reset")),1)])]),e("div",Te,[e("div",je,[e("label",Ne,n(c(r)("training.filters.status")),1),z(e("select",{"onUpdate:modelValue":o[0]||(o[0]=d=>v.value.status=d),class:"w-full border border-gray-300 rounded-lg px-4 py-3 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},[e("option",Pe,n(c(r)("training.filters.status_all")),1),e("option",Be,n(c(r)("training.filters.status_published")),1),e("option",Le,n(c(r)("training.filters.status_ongoing")),1),e("option",Ve,n(c(r)("training.filters.status_completed")),1)],512),[[W,v.value.status]])]),e("div",ze,[e("label",Ae,n(c(r)("training.filters.location")),1),e("div",Ie,[z(e("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>v.value.location=d),type:"text",placeholder:c(r)("training.filters.location_placeholder"),class:"w-full border border-gray-300 rounded-lg px-4 py-3 pl-10 text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors"},null,8,Re),[[X,v.value.location]]),o[9]||(o[9]=e("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1))])]),e("div",Fe,[e("div",Ue,[e("span",De,n(c(r)("training.results.count",{count:x.value})),1)])])])])]),e("section",{class:"py-12 bg-gray-50",ref_key:"programsTopRef",ref:N},[e("div",qe,[y.value?(t(),Y(ve,{key:0,type:"card",count:6,"container-class":"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"})):(t(),s("div",Ee,[g.value.length===0?(t(),s("div",He,n(c(r)("training.empty")),1)):(t(),s("div",Ke,[(t(!0),s(p,null,f(g.value,d=>(t(),s("article",{key:d.id,class:"rounded-professional-lg border border-gray-200 bg-white card-hover overflow-hidden flex flex-col h-full"},[e("div",Oe,[d.image?(t(),s("img",{key:0,src:d.image,alt:d.title,class:"w-full h-full object-cover",loading:"lazy"},null,8,Qe)):k("",!0),d.status?(t(),s("span",Ge,n(d.status),1)):k("",!0)]),e("div",Je,[e("h3",We,n(d.title),1),d.subtitle?(t(),s("p",Xe,n(d.subtitle),1)):k("",!0),e("div",Ye,[d.location?(t(),s("span",Ze,n(d.location),1)):k("",!0),d.dateRange?(t(),s("span",et,n(d.dateRange),1)):k("",!0)]),Z(m,{to:`/training-programs/${d.slugOrId}`,class:"text-green-700 font-semibold text-sm hover:underline mt-auto"},{default:ee(()=>[V(n(c(r)("training.view_details")),1)]),_:1},8,["to"])])]))),128))])),e("div",tt,[e("button",{disabled:l.value<=1||y.value,onClick:q,class:"px-3 py-2 border rounded-md disabled:opacity-50",onMousedown:o[2]||(o[2]=C(()=>{},["prevent"])),onKeydown:o[3]||(o[3]=C(()=>{},["prevent","stop"]))},n(c(r)("training.pagination.prev")),41,st),e("span",at,n(c(r)("training.pagination.page_of",{page:l.value,total:M.value})),1),e("button",{disabled:l.value>=M.value||y.value,onClick:E,class:"px-3 py-2 border rounded-md disabled:opacity-50",onMousedown:o[4]||(o[4]=C(()=>{},["prevent"])),onKeydown:o[5]||(o[5]=C(()=>{},["prevent","stop"]))},n(c(r)("training.pagination.next")),41,ot)])]))])],512)])}}};export{it as default};
